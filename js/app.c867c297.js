(function(t){function e(e){for(var s,o,r=e[0],l=e[1],c=e[2],d=0,p=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,r=1;r<a.length;r++){var l=a[r];0!==i[l]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},i={app:0},n=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"100c":function(t,e,a){t.exports=a.p+"img/user-avatar-reg.b12dfed8.png"},"249a":function(t,e,a){t.exports=a.p+"img/search-icon.807df2b0.png"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("ac1f"),a("466d"),a("5319"),a("fb6a");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.$route.meta.Auth?a("Header"):t._e(),a("router-view"),a("Footer")],1)},n=[],o=(a("d3b7"),a("ade3")),r=a("bc3a"),l=a.n(r),c=function(t){try{return JSON.parse(localStorage.getItem(t))}catch(e){return console.log("Error getting data from localStorage",e),null}},u=function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(a){console.log("Error saving data from localStorage",a)}};l.a.defaults.baseURL="http://90.189.217.244:9016",l.a.interceptors.request.use((function(t){var e=c("accessTokenStore"),a=e?"".concat(e):"";return""===a||(t.headers.Authorization=a),t}));var d,p,m,h,v=l.a,f=function(t){return v.post("/api/1/login",t,{useCredentails:!0})},_={login:f},g=a("8c4f"),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"registr"},[t.isLoading?a("div",{staticClass:"holder"},[t._m(0)]):t._e(),a("div",{staticClass:"container"},[t._m(1),a("div",{},[a("form",{staticClass:"registr-form"},[a("div",{staticClass:"registr-form__row"},[a("ul",{attrs:{id:"progressbar"}},[a("li",{staticClass:"active",on:{click:function(e){return t.switchTabsClass("contact")}}},[t._v(" Регистрация пользователя ")]),a("li",{class:{notactive:null===this.currentUser},attrs:{id:"choice-weapons"},on:{click:function(e){return t.switchTabsClass("block")}}},[t._v(" Ввод данных об оружии ")]),a("li",{class:{notactive:null===this.getWeaponItem},attrs:{id:"active-block"},on:{click:function(e){return t.switchTabsClass("post")}}},[t._v(" Активация блока ")])]),a("div",{staticClass:"registr-form__column"},[t.isBlockActive?a("div",{staticClass:"registr-form__wrap",attrs:{"data-tab":"contact"}},[a("ContactInfo",{on:{validFirstBlock:t.changeFirstBlock}})],1):t._e(),t.isPostActive?a("div",{staticClass:"registr-form__wrap",attrs:{"data-tab":"block",id:"titletwo"}},[a("ChoiceOfWeapon",{on:{changeSecondBlock:t.changeSecondBlock}})],1):t._e(),a("div",{staticClass:"order-wrap2",attrs:{"data-tab":"pay",id:"titlethee"}},[t.isPayActive?a("div",{staticClass:"order-pay"},[a("ActiveBlock")],1):t._e()])])])])])])])},b=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"preloader"},[a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"registr_title"},[a("h1",[t._v("Регистрация пользователя")])])}],w=a("5530"),$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"registr-block"},[a("div",{staticClass:"registr-block__wrap"},[null===this.currentUser?a("div",{staticClass:"first-succsess-blok"},[a("div",{staticClass:"registr-block__first"},[a("p",{staticClass:"mini-title"},[t._v("Контактная информация")]),this.contact?a("div",{},["FAIL"===this.contact.data.status?a("p",{staticClass:"error-input"},[t._v(" "+t._s(this.contact.data.message)+" ")]):t._e()]):t._e(),a("div",{staticClass:"registr-block__input"},[a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"name"}},[t._v("Фамилия")]),t.$v.lastName.alpha?t._e():a("p",{staticClass:"error-input"},[t._v(" *Фамилия должна содержать только кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.lastName.$model,expression:"$v.lastName.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.lastName.$error},attrs:{type:"text",id:"name",required:""},domProps:{value:t.$v.lastName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.lastName,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"name"}},[t._v("Имя")]),t.$v.firstName.alpha?t._e():a("p",{staticClass:"error-input"},[t._v(" *Имя должно содержать только кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.firstName.$model,expression:"$v.firstName.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.firstName.$error},attrs:{type:"text",id:"name",required:""},domProps:{value:t.$v.firstName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.firstName,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"name"}},[t._v("Отчество")]),t.$v.middleName.alpha?t._e():a("p",{staticClass:"error-input"},[t._v(" *Отчество должно содержать только кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.middleName.$model,expression:"$v.middleName.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.middleName.$error},attrs:{type:"text",id:"name",required:""},domProps:{value:t.$v.middleName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.middleName,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"registr-block__input"},[a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"email"}},[t._v("Электронная почта")]),t.$v.email.email?t._e():a("p",{staticClass:"error-input"},[t._v(" *Введите корректные данные ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.email.$model,expression:"$v.email.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.email.$error},attrs:{type:"text",id:"email",required:""},domProps:{value:t.$v.email.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.email,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"registr-block__input"},[a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"phone"}},[t._v("Телефон")]),t.$v.phone.minLength?t._e():a("p",{staticClass:"error-input"},[t._v(" *Телефон имеет формат 8(XXX)XXX-XX-XX ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.phone.$model,expression:"$v.phone.$model",modifiers:{trim:!0}},{name:"phone",rawName:"v-phone"}],staticClass:"text-input",class:{"error-valid":t.$v.phone.$error},attrs:{type:"tel",id:"phonefooter",name:"confidantPhon",placeholder:"8(___)___-____",maxlength:"14",required:""},domProps:{value:t.$v.phone.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.phone,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"registr-block__pass-data"},[a("p",{staticClass:"mini-title"},[t._v("Паспортные данные гражданина РФ")]),a("div",{staticClass:"registr-block__passport"},[a("div",{staticClass:"passport"},[a("div",{staticClass:"passport__block margin"},[a("label",{attrs:{for:"passportSerial"}},[t._v("Серия:")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.passportSerial.$model,expression:"$v.passportSerial.$model",modifiers:{trim:!0}}],staticClass:"seria-input seria",class:{"error-valid":t.$v.passportSerial.$error},attrs:{maxlength:"4",placeholder:"xxxx"},domProps:{value:t.$v.passportSerial.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.passportSerial,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"passportNumber"}},[t._v("Номер:")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.passportNumber.$model,expression:"$v.passportNumber.$model",modifiers:{trim:!0}}],staticClass:"seria-input pass",class:{"error-valid":t.$v.passportNumber.$error},attrs:{maxlength:"6",placeholder:"xxxxxx"},domProps:{value:t.$v.passportNumber.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.passportNumber,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"passport__block"},[a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"birthDate"}},[t._v("Дата рождения:")]),!t.$v.birthDate.minValue&&t.$v.birthDate.$dirty?a("p",{staticClass:"error-input"},[t._v(" *Нет 18 лет! ")]):t._e()]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.birthDate.$model,expression:"$v.birthDate.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.birthDate.$error},attrs:{type:"date",id:"start",min:"1900-01-01",max:"2099-12-31",placeholder:"дд.мм.гггг"},domProps:{value:t.$v.birthDate.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.birthDate,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"passport__block"},[a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"registrationAddress"}},[t._v("Адрес Регистрации:")]),t.$v.registrationAddress.alpha?t._e():a("p",{staticClass:"error-input"},[t._v(" *Адрес регистрации должен содержать только кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.registrationAddress.$model,expression:"$v.registrationAddress.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.registrationAddress.$error},domProps:{value:t.$v.registrationAddress.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.registrationAddress,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"registrationAddress"}},[t._v("Адрес Фактического проживания:")]),t.$v.placeOfResidence.alpha?t._e():a("p",{staticClass:"error-input"},[t._v(" *Адрес проживания должен содержать только кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.placeOfResidence.$model,expression:"$v.placeOfResidence.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.placeOfResidence.$error},domProps:{value:t.$v.placeOfResidence.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.placeOfResidence,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"passportPlaceOfIssue"}},[t._v("Кем выдан документ:")]),t.$v.passportPlaceOfIssue.alpha?t._e():a("p",{staticClass:"error-input"},[t._v(" *Должено содержать только кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.passportPlaceOfIssue.$model,expression:"$v.passportPlaceOfIssue.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.passportPlaceOfIssue.$error},attrs:{placeholder:"Наименование подразделения"},domProps:{value:t.$v.passportPlaceOfIssue.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.passportPlaceOfIssue,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"passport__block2"},[a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:" passportCode"}},[t._v("Код подразделения:")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.passportCode.$model,expression:"$v.passportCode.$model",modifiers:{trim:!0}}],staticClass:"seria-input kod",class:{"error-valid":t.$v.passportCode.$error},attrs:{maxlength:"6",placeholder:"xxxxxx"},domProps:{value:t.$v.passportCode.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.passportCode,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"passport__block"},[a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"passportDateOfIssue"}},[t._v("Дата выдачи документа:")]),t.$v.passportDateOfIssue.maxValue?t._e():a("p",{staticClass:"error-input"},[t._v(" *Недопустимая дата ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.passportDateOfIssue.$model,expression:"$v.passportDateOfIssue.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.passportDateOfIssue.$error},attrs:{type:"date",id:"start",min:"1900-01-01",max:"2099-12-31",placeholder:"дд.мм.гггг"},domProps:{value:t.$v.passportDateOfIssue.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.passportDateOfIssue,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]),a("div",{staticClass:"photo__block"},[a("div",{staticClass:"example-2"},[a("div",{staticClass:"form-group"},[a("form",{ref:"myForm"},[a("input",{ref:"file",staticClass:"input-file",attrs:{type:"file",id:"file",accept:"image/jpeg"},on:{change:t.handleFileUpload}}),a("label",{staticClass:"btn btn-tertiary js-labelFile",attrs:{for:"file"}},[a("svg",{staticClass:"svg-inline--fa fa-download fa-w-16",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"download",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[a("path",{attrs:{fill:"currentColor",d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}})]),a("span",{staticClass:"js-fileName"},[t._v("Прикрепите фотографию")])])])])]),!1===t.addfoto?a("div",[t._m(0)]):t._e(),!0===t.addfoto&&this.newProduct.length?a("div",[a("div",{staticClass:"photo-item__row",attrs:{id:"foto"}},t._l(this.newProduct,(function(e,s){return a("div",{key:s,staticClass:"photo-item__column"},[a("div",{staticClass:"preview-image"},[a("div",{staticClass:"preview-remove",attrs:{"data-name":e.file.name},on:{click:function(a){return t.removeHandler(s,e.file.name)}}},[t._v(" X ")]),a("div",{staticClass:"preview-block"},[a("img",{attrs:{src:e.src,alt:"foto"}})]),a("div",{staticClass:"preview-info"},[a("span",[t._v(t._s(e.file.name))]),t._v(" "+t._s(t.bytesToSize(e.file.size))+" ")])])])})),0)]):t._e()]),a("div",{staticClass:"register-trustee"},[t._m(1),t._m(2),a("div",{staticClass:"register-trustee__block"},[a("div",{staticClass:"registr-block__input-confidant"},[a("div",{staticClass:"registr-block__wrap"},[a("div",{staticClass:"label-error-confidant"},[a("label",{class:{"error-line":!t.$v.confidantLastName.alpha},attrs:{for:"name"}},[t._v("Фамилия")]),t.$v.confidantLastName.alpha?t._e():a("p",{staticClass:"error-input-confidant"},[t._v(" *Должно содержать кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.confidantLastName.$model,expression:"$v.confidantLastName.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.confidantLastName.$error},attrs:{type:"text",id:"name",required:""},domProps:{value:t.$v.confidantLastName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.confidantLastName,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"registr-block__wrap"},[a("div",{staticClass:"label-error-confidant"},[a("label",{class:{"error-line":!t.$v.confidantFirstName.alpha},attrs:{for:"name"}},[t._v("Имя")]),t.$v.confidantFirstName.alpha?t._e():a("p",{staticClass:"error-input-confidant"},[t._v(" *Должно содержать кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.confidantFirstName.$model,expression:"$v.confidantFirstName.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.confidantFirstName.$error},attrs:{type:"text",id:"name",required:""},domProps:{value:t.$v.confidantFirstName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.confidantFirstName,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"registr-block__wrap"},[a("div",{staticClass:"label-error-confidant"},[a("label",{class:{"error-line":!t.$v.confidantMiddleName.alpha},attrs:{for:"name"}},[t._v("Отчество")]),t.$v.confidantMiddleName.alpha?t._e():a("p",{staticClass:"error-input-confidant"},[t._v(" *Должно содержать кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.confidantMiddleName.$model,expression:"$v.confidantMiddleName.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.confidantMiddleName.$error},attrs:{type:"text",id:"name",required:""},domProps:{value:t.$v.confidantMiddleName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.confidantMiddleName,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"registr-block__input-confidant"},[a("div",{staticClass:"registr-block__wrap"},[a("div",{staticClass:"label-error-confidant"},[a("label",{class:{"error-line":!t.$v.confidantPhone.minLength},attrs:{for:"phone"}},[t._v("Телефон")]),t.$v.confidantPhone.minLength?t._e():a("p",{staticClass:"error-input-confidant"},[t._v(" *Телефон имеет формат 8(XXX)XXX-XX-XX ")])]),a("input",{directives:[{name:"phone",rawName:"v-phone"},{name:"model",rawName:"v-model.trim",value:t.$v.confidantPhone.$model,expression:"$v.confidantPhone.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.confidantPhone.$error},attrs:{type:"tel",name:"confidantPhone",placeholder:"8(___)___-____",maxlength:"14",required:""},domProps:{value:t.$v.confidantPhone.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.confidantPhone,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"registr-block__wrap"},[a("div",{staticClass:"label-error-confidant"},[a("label",{class:{"error-line":!t.$v.relationship.alpha},attrs:{for:"name"}},[t._v("Кем приходится:")])]),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.relationship.$model,expression:"$v.relationship.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.relationship.$error},attrs:{id:"standard-select",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.$v.relationship,"$model",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"Мать"}},[t._v("Мать")]),a("option",{attrs:{value:"Отец"}},[t._v("Отец")]),a("option",{attrs:{value:"Сестра"}},[t._v("Сестра")]),a("option",{attrs:{value:"Брат"}},[t._v("Брат")]),a("option",{attrs:{value:"Друг"}},[t._v("Друг")]),a("option",{attrs:{value:"Другое"}},[t._v("Другое")])])])])])])]),a("div",{staticClass:"registr-block__button"},[a("button",{staticClass:"button btn-primary",attrs:{type:"button","data-tab":"block"},on:{click:function(e){return t.validFirstBlock()}}},[t._v(" Продолжить ")])])]):this.currentUser?a("PutContact",{on:{validFirstBlock:t.changeFirstBlock}}):t._e()],1)])},S=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"photo-item__row",attrs:{id:"foto"}},[s("div",{staticClass:"photo-item__column"},[s("div",{staticClass:"preview-image"},[s("div",{staticClass:"preview-block"},[s("img",{attrs:{src:a("100c"),alt:""}})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register-trustee__title"},[a("p",{staticClass:"mini-title"},[t._v("Доверительное лицо")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"confidant-title"},[a("p",[t._v("*Необязательно для заполнение")])])}],k=a("2909"),x=(a("159b"),a("a434"),a("b5ae")),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form"},[a("div",{staticClass:"photo-item__row-mini",attrs:{id:"foto"}},[a("div",{staticClass:"photo-item__column"},[a("div",{staticClass:"preview-image"},[a("div",{staticClass:"preview-block"},[!1===t.isAddfoto?a("img",{attrs:{src:""+this.contact.data.result.downloadUrl,alt:"foto"}}):t._e(),!0===t.isAddfoto&&this.newPhoto.length?a("div",[a("div",{staticClass:"client-block__img",attrs:{id:"foto"}},t._l(this.newPhoto,(function(e,s){return a("div",{key:s,staticClass:"photo-item__column"},[a("div",{staticClass:"preview-image"},[a("div",{staticClass:"preview-remove",attrs:{"data-name":e.file.name},on:{click:function(a){return t.removeHandler(s,e.file.name)}}},[t._v(" X ")]),a("div",{staticClass:"preview-block"},[a("img",{attrs:{src:e.src,alt:"foto"}})])])])})),0)]):t._e()])]),!0===t.isAddfoto&&this.newPhoto.length?a("button",{staticClass:"btn btn-white-change",attrs:{type:"button"},on:{click:function(e){return t.putImage()}}},[t._v(" Загрузить ")]):t._e(),!1===t.isAddfoto?a("div",{staticClass:"example-2"},[a("div",{staticClass:"form-group"},[a("form",{ref:"myForm"},[a("input",{ref:"file",staticClass:"input-file",attrs:{type:"file",id:"file",accept:"image/jpeg"},on:{change:t.handleFileUpload}}),a("label",{staticClass:"btn btn-tertiary-new js-labelFileChange",attrs:{for:"file"}},[a("svg",{staticClass:"svg-inline--fa fa-download fa-w-16",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"download",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[a("path",{attrs:{fill:"currentColor",d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}})]),a("span",{staticClass:"js-fileName"},[t._v("Изменить фотографию")])])])])]):t._e()])]),a("form",{staticClass:"put-succsess-blok",on:{submit:function(e){return e.preventDefault(),t.putContact.apply(null,arguments)}}},[a("div",{staticClass:"registr-block__first"},[a("p",{staticClass:"mini-title"},[t._v("Контактная информация")]),a("div",{staticClass:"registr-block__input"},[a("label",{attrs:{for:"name"}},[t._v("Фамилия")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"name",name:"lastName",required:""},domProps:{value:this.currentUser.lastName}}),a("label",{attrs:{for:"name"}},[t._v("Имя")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"name",name:"firstName",required:""},domProps:{value:this.currentUser.firstName}}),a("label",{attrs:{for:"name"}},[t._v("Отчество")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"name",name:"middleName",required:""},domProps:{value:this.currentUser.middleName}})]),a("div",{staticClass:"registr-block__input"},[a("label",{attrs:{for:"email"}},[t._v("Электронная почта")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"email",name:"email",required:""},domProps:{value:this.currentUser.email}})]),a("div",{staticClass:"registr-block__input"},[a("label",{attrs:{for:"phone"}},[t._v("Телефон")]),a("input",{directives:[{name:"phone",rawName:"v-phone"}],staticClass:"text-input",attrs:{type:"tel",id:"phonefooter",name:"contactPhone",placeholder:"8(___)___-____",maxlength:"14"},domProps:{value:this.currentUser.contactPhone}})])]),a("div",{staticClass:"registr-block__pass-data"},[a("p",{staticClass:"mini-title"},[t._v("Паспортные данные гражданина РФ")]),a("div",{staticClass:"registr-block__passport"},[a("div",{staticClass:"passport"},[a("div",{staticClass:"passport__block margin"},[a("label",{attrs:{for:"passportSerial"}},[t._v("Серия:")]),a("input",{staticClass:"seria-input seria",attrs:{maxlength:"4",placeholder:"xxxx",passportData:"",name:"passportSerial"},domProps:{value:this.currentUser.passportData.passportSerial}})]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"passportNumber"}},[t._v("Номер:")]),a("input",{staticClass:"seria-input pass",attrs:{maxlength:"6",placeholder:"xxxxxx",name:"passportNumber"},domProps:{value:this.currentUser.passportData.passportNumber}})])]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"birthDate"}},[t._v("Дата рождения")]),a("input",{staticClass:"text-input",attrs:{type:"date",id:"start",name:"birthDate",placeholder:"дд.мм.гггг"},domProps:{value:this.currentUser.passportData.birthDate}})])]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"registrationAddress"}},[t._v("Адрес Регистраци:")]),a("input",{staticClass:"text-input",attrs:{name:"registrationAddress"},domProps:{value:this.currentUser.passportData.registrationAddress}}),a("label",{attrs:{for:"registrationAddress"}},[t._v("Адрес Фактического проживания:")]),a("input",{staticClass:"text-input",attrs:{name:"placeOfResidence"},domProps:{value:this.currentUser.placeOfResidence}}),a("label",{attrs:{for:"passportPlaceOfIssue"}},[t._v("Кем выдан документ:")]),a("input",{staticClass:"text-input",attrs:{name:"passportPlaceOfIssue",placeholder:"Наименование подразделения"},domProps:{value:this.currentUser.passportData.passportPlaceOfIssue}})]),a("div",{staticClass:"passport__block2"},[a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"departmentCode"}},[t._v("Код подразделения:")]),a("input",{staticClass:"seria-input kod",attrs:{maxlength:"6",placeholder:"xxxxxx",name:"departmentCode"},domProps:{value:this.currentUser.passportData.departmentCode}})]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"passportDateOfIssue"}},[t._v("Дата выдачи документа:")]),a("input",{staticClass:"text-input",attrs:{type:"date",id:"start",name:"passportDateOfIssue",placeholder:"дд.мм.гггг"},domProps:{value:this.currentUser.passportData.passportDateOfIssue}})])])]),this.currentUser.confidantData?a("div",{staticClass:"register-trustee"},[t._m(0),a("div",{staticClass:"register-trustee__block"},[a("div",{staticClass:"registr-block__input-confidant"},[a("div",{staticClass:"registr-block__wrap"},[a("label",{attrs:{for:"confidantLastName"}},[t._v("Имя")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"confidantLastName",name:"confidantLastName",required:""},domProps:{value:this.currentUser.confidantData.confidantLastName}})]),a("div",{staticClass:"registr-block__wrap"},[a("label",{attrs:{for:"confidantFirstName"}},[t._v("Фамилия")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"confidantFirstName",name:"confidantFirstName",required:""},domProps:{value:this.currentUser.confidantData.confidantFirstName}})]),a("div",{staticClass:"registr-block__wrap"},[a("label",{attrs:{for:"confidantMiddleName"}},[t._v("Отчество")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"confidantMiddleName",name:"confidantMiddleName",required:""},domProps:{value:this.currentUser.confidantData.confidantMiddleName}})])]),a("div",{staticClass:"registr-block__input-confidant"},[a("div",{staticClass:"registr-block__wrap"},[a("label",{attrs:{for:"confidantPhone"}},[t._v("Телефон:")]),a("input",{directives:[{name:"phone",rawName:"v-phone"}],staticClass:"text-input",attrs:{type:"tel",id:"phonefooter",name:"confidantPhone",placeholder:"8(___)___-____",required:"",maxlength:"14"},domProps:{value:this.currentUser.confidantData.confidantPhone}})]),a("div",{staticClass:"registr-block__wrap"},[t._m(1),a("div",{staticClass:"select"},[a("select",{staticClass:"text-input",attrs:{id:"standard-select",name:"relationship",required:""},domProps:{value:this.currentUser.confidantData.relationship}},[a("option",{attrs:{value:"Мать"}},[t._v("Мать")]),a("option",{attrs:{value:"Отец"}},[t._v("Отец")]),a("option",{attrs:{value:"Сестра"}},[t._v("Сестра")]),a("option",{attrs:{value:"Брат"}},[t._v("Брат")]),a("option",{attrs:{value:"Друг"}},[t._v("Друг")]),a("option",{attrs:{value:"Другое"}},[t._v("Другое")])])])])])])]):t._e(),t._m(2)])])},O=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register-trustee__title"},[a("p",{staticClass:"mini-title"},[t._v("Доверительное лицо")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label-error-confidant"},[a("label",{attrs:{for:"relationship"}},[t._v("Кем приходится:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"registr-block__button"},[a("button",{staticClass:"button btn-primary",attrs:{type:"submit","data-tab":"block"}},[t._v(" Изменить ")])])}],N=a("3835"),D=a("b85c"),y=function(t){return v.post("/api/1/registration",t)},I=function(t){return v.post("/api/1/admin/upload",t)},A=function(t){return v.post("/api/1/change/user/".concat(t.id),t)},L={contact:y,PutContact:A,addPhoto:I},j=function(){return v.get("api/1/find/all/weapon")},W=function(t){return v.get("api/1/find/all/name/weapon",{params:{name:t}})},E={getAllWeapon:j,getWeapon:W},F=function(t){return v.post("/api/1/unit",t)},B={getSerial:F},U={isSubmitting:!1,isLoading:!1,isAuthenticated:!1,validationErrors:null,allWeapon:null,weapon:null,failureServer:{states:null,message:null},getWeaponItem:c("currentWepon"),contact:JSON.parse(localStorage.getItem("contact")||null),currentUser:c("currentUser"),getStorageItem:c("currentStorage"),statusActivation:JSON.parse(localStorage.getItem("statusActivation")||null)},M={contactStart:"[register] contactStart",contactSuccess:"[register] contactSuccess",contactFailure:"[register] contactFailure",addPhotoStart:"[register] addPhotoStart",addPhotoSuccess:"[register] addPhotoSuccess",addPhotoFailure:"[register] addPhotoFailure",PutContactStart:"[register] PutContactStart",PutContactSuccess:"[register] PutContactSuccess",PutContactFailure:"[register] PutContactFailure",PutContactItemStart:"[register]   PutContactItemStart",PutContactItemSuccess:"[register]   PutContactItemSuccess",PutContactItemFailure:"[register]   PutContactItemFailure",getAllWeaponStart:"[register] getAllWeaponStart",getAllWeaponSuccess:"[register] getAllWeaponSuccess",getAllWeaponFailure:"[register] getAllWeaponFailure",getWeaponStart:"[register] getWeaponStart",getWeaponSuccess:"[register] getWeaponSuccess",getWeaponFailure:"[register] getWeaponFailure",getDataContactSuccess:"[register] getDataContactSuccess",getWeaponItemSuccess:"[register] getWeaponItemSuccess",changeWeaponItemSuccess:"[register] changeWeaponItemSuccess",getStorageItemSuccess:"[register] getStorageItemSuccess",getSerialStart:"[register] getSerialStart",getSerialSuccess:"[register] getSerialSuccess",getSerialFailure:"[register] getSerialFailure"},q={contact:"[register] contact",addPhoto:"[register] addPhoto",PutContact:"[register] putContact",PutContactItem:"[register] putContactItem",getAllWeapon:"[register] getAllWeapon",getWeapon:"[register] getWeapon",getWeaponItem:"[register] getWeaponItem",changeWeaponItem:"[register] changeWeaponItem",getStorageItem:"[register] getStorageItem",getDataContact:"[register] getDataContact",getSerial:"[register] getSerial"},z=(d={},Object(o["a"])(d,M.contactStart,(function(t){t.isLoading=!0,t.isAuthenticated=!1,t.validationErrors=null})),Object(o["a"])(d,M.contactSuccess,(function(t,e){t.isAuthenticated=!0,t.isLoading=!1,t.contact=e,t.isLoggedIn=!0})),Object(o["a"])(d,M.contactFailure,(function(t,e){t.isAuthenticated=!1,t.isLoading=!1,t.validationErrors=e})),Object(o["a"])(d,M.addPhotoStart,(function(t){t.isLoading=!0,t.isAuthenticated=!1,t.validationErrors=null})),Object(o["a"])(d,M.addPhotoSuccess,(function(t){t.isLoading=!1,t.isAuthenticated=!0})),Object(o["a"])(d,M.addPhotoFailure,(function(t,e){t.isLoading=!1,t.isAuthenticated=!1,t.validationErrors=e})),Object(o["a"])(d,M.getAllWeaponStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(d,M.getAllWeaponSuccess,(function(t,e){t.isLoading=!1,t.allWeapon=e})),Object(o["a"])(d,M.getAllWeaponFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),Object(o["a"])(d,M.getWeaponStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(d,M.getWeaponSuccess,(function(t,e){t.isLoading=!1,t.weapon=e})),Object(o["a"])(d,M.getWeaponFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),Object(o["a"])(d,M.getDataContactSuccess,(function(t,e){t.isLoading=!1,t.currentUser=e,localStorage.setItem("currentUser",JSON.stringify(t.currentUser))})),Object(o["a"])(d,M.getWeaponItemSuccess,(function(t,e){t.isLoading=!1,t.getWeaponItem=e,localStorage.setItem("currentWepon",JSON.stringify(t.getWeaponItem))})),Object(o["a"])(d,M.changeWeaponItemSuccess,(function(t){t.isLoading=!1,t.getWeaponItem=null,localStorage.removeItem("currentWepon")})),Object(o["a"])(d,M.getStorageItemSuccess,(function(t,e){t.isLoading=!1,t.getStorageItem=e,localStorage.setItem("currentStorage",JSON.stringify(t.getStorageItem))})),Object(o["a"])(d,M.getSerialStart,(function(t){t.isLoading=!0,t.validationErrors=null,t.statusActivation=null})),Object(o["a"])(d,M.getSerialSuccess,(function(t,e){t.statusActivation=e,t.isLoading=!1})),Object(o["a"])(d,M.getSerialFailure,(function(t){t.isLoading=!1,t.failureServer.status="FAIL",t.failureServer.message="Извините сервис временно не доступен!"})),Object(o["a"])(d,M.PutContactStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(d,M.PutContactSuccess,(function(t){t.isLoading=!1})),Object(o["a"])(d,M.PutContactFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),Object(o["a"])(d,M.PutContactItemStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(d,M.PutContactItemSuccess,(function(t){t.isLoading=!1})),Object(o["a"])(d,M.PutContactItemFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),d),R=(p={},Object(o["a"])(p,q.contact,(function(t,e){return new Promise((function(a){t.commit(M.contactStart),L.contact(e).then((function(e){t.commit(M.contactSuccess,e),window.localStorage.setItem("contact",e),u("contact",e),a(e)})).catch((function(e){t.commit(M.contactFailure,e),console.log("ошибка",e)}))}))})),Object(o["a"])(p,q.addPhoto,(function(t,e){return new Promise((function(a){t.commit(M.addPhotoStart),L.addPhoto(e).then((function(e){t.commit(M.addPhotoSuccess,e),a(e)})).catch((function(e){t.commit(M.addPhotoFailure,e),console.log("ошибка",e)}))}))})),Object(o["a"])(p,q.PutContact,(function(t,e){return new Promise((function(a){t.commit(M.PutContactStart),L.PutContact(e).then((function(s){localStorage.setItem("currentUser",JSON.stringify(e)),U.currentUser=e,t.commit(M.PutContactSuccess,s),a(s)})).catch((function(e){t.commit(M.PutContactFailure,e),console.log("ошибка",e)}))}))})),Object(o["a"])(p,q.PutContactItem,(function(t,e){return new Promise((function(a){t.commit(M.PutContactItemStart),L.PutContact(e).then((function(s){localStorage.setItem("allClients",JSON.stringify(e)),t.commit(M.PutContactItemSuccess,s),a(s)})).catch((function(e){t.commit(M.PutContactItemFailure,e),console.log("ошибка",e)}))}))})),Object(o["a"])(p,q.getDataContact,(function(t,e){return t.commit(M.getDataContactSuccess,e)})),Object(o["a"])(p,q.getWeaponItem,(function(t,e){return t.commit(M.getWeaponItemSuccess,e)})),Object(o["a"])(p,q.changeWeaponItem,(function(t){return t.commit(M.changeWeaponItemSuccess)})),Object(o["a"])(p,q.getStorageItem,(function(t,e){return t.commit(M.getStorageItemSuccess,e)})),Object(o["a"])(p,q.getAllWeapon,(function(t){return new Promise((function(e){t.commit(M.getAllWeaponStart),E.getAllWeapon().then((function(a){t.commit(M.getAllWeaponSuccess,a.data),e(a.data)})).catch((function(e){t.commit(M.getAllWeaponFailure,console.log("error",e))}))}))})),Object(o["a"])(p,q.getWeapon,(function(t,e){return new Promise((function(a){t.commit(M.getWeaponStart),E.getWeapon(e).then((function(e){t.commit(M.getWeaponSuccess,e.data.result),a(e.data.result)})).catch((function(e){t.commit(M.getWeaponFailure,console.log("error",e))}))}))})),Object(o["a"])(p,q.getSerial,(function(t,e){return new Promise((function(a){localStorage.removeItem("statusActivation"),U.statusActivation,t.commit(M.getSerialStart),B.getSerial(e).then((function(e){t.commit(M.getSerialSuccess,e),"SUCCESS"===e.data.status&&(window.localStorage.setItem("statusActivation",e),u("statusActivation",e),localStorage.removeItem("currentStorage"),U.getStorageItem=null,localStorage.removeItem("currentUser"),U.currentUser=null,localStorage.removeItem("currentWepon"),U.getWeaponItem=null),a(e.data)})).catch((function(e){t.commit(M.getSerialFailure,console.log("error",e))}))}))})),p),H={state:U,mutations:z,actions:R},T=a("2f62"),V={name:"AppPutContact",data:function(){return{putData:[],items:{},passportData:{},isActiveBlock:!1,isAddfoto:!1,newPhoto:[],file:[]}},computed:Object(w["a"])({},Object(T["b"])({currentUser:function(t){return t.register.currentUser},contact:function(t){return t.register.contact}})),components:{},methods:{putContact:function(){var t=document.forms,e=new FormData(t[2]);this.putData=[];var a,s=Object(D["a"])(e);try{for(s.s();!(a=s.n()).done;){var i=Object(N["a"])(a.value,2),n=i[0],r=i[1];this.putData=Object(w["a"])(Object(w["a"])({},this.putData),{},Object(o["a"])({},n,r))}}catch(l){s.e(l)}finally{s.f()}this.validFirstBlock()},submit:function(){var t=this;this.$store.dispatch(q.PutContact,this.items).then((function(){t.$emit("validFirstBlock")})).catch((function(t){console.log("Ошибка",t)}))},handleFileUpload:function(t){var e=this;this.file=this.$refs.file.files,Object(k["a"])(this.file).forEach((function(t){if(!t.type.match("image"))return console.log("Не изображение!");var a=new FileReader;a.onload=function(t){e.isAddfoto=!0,e.newPhoto.push({src:t.target.result,file:file})},a.readAsDataURL(t)}))},putImage:function(){var t=this,e=new FormData,a=this.file;e.append("file",a[0]),e.append("id",this.contact.data.result.userId),this.$store.dispatch(q.addPhoto,e).then((function(){t.isAddfoto=!1,t.newPhoto=[]})).catch((function(t){console.log(t,"Error")}))},removeHandler:function(t,e){this.newPhoto.splice(t,1),this.isAddfoto=!this.isAddfoto},validFirstBlock:function(){this.passportData={registrationAddress:this.putData.registrationAddress,passportPlaceOfIssue:this.putData.passportPlaceOfIssue,departmentCode:this.putData.departmentCode,passportDateOfIssue:this.putData.passportDateOfIssue,passportSerial:this.putData.passportSerial,passportNumber:this.putData.passportNumber,birthDate:this.putData.birthDate},this.putData.confidantFirstName&&this.putData.confidantLastName&&this.putData.confidantMiddleName&&this.putData.confidantPhone&&this.putData.relationship?this.confidantData={confidantFirstName:this.putData.confidantFirstName,confidantLastName:this.putData.confidantLastName,confidantMiddleName:this.putData.confidantMiddleName,confidantPhone:this.putData.confidantPhone,relationship:this.putData.relationship}:this.confidantData=null,this.items={id:this.contact.data.result.userId,lastName:this.putData.lastName,firstName:this.putData.firstName,middleName:this.putData.middleName,email:this.putData.email,contactPhone:this.putData.contactPhone,placeOfResidence:this.putData.placeOfResidence,passportData:this.passportData,confidantData:this.confidantData},this.submit()}}},X=V,J=a("2877"),G=Object(J["a"])(X,P,O,!1,null,null,null),Y=G.exports,K=function(t){return(new Date).getMonth()-new Date(t).getMonth()>=0&&(new Date).getDate()-new Date(t).getDate()>=0?1:0},Q=function(t){return(new Date).getFullYear()-new Date(t).getFullYear()},Z=function(t){return Q(t)-1+(K(t)?1:0)>=18},tt={name:"AppContactInfo",data:function(){return{lastName:"",firstName:"",middleName:"",email:"",phone:"",placeOfResidence:"",passportData:{},passportSerial:"",passportNumber:"",registrationAddress:"",passportPlaceOfIssue:"",passportCode:"",birthDate:"",passportDateOfIssue:"",items:{},confidantData:null,submitStatus:null,confidantFirstName:"",confidantLastName:"",confidantMiddleName:"",confidantPhone:"",relationship:"",formData:"",file:[],newProduct:[],addfoto:!1,isActiveBlock:!1}},validations:{lastName:{required:x["required"],alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё]*$/)},firstName:{required:x["required"],alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё]*$/)},middleName:{required:x["required"],alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё]*$/)},email:{required:x["required"],email:x["email"]},phone:{minLength:Object(x["minLength"])(14),required:x["required"]},passportSerial:{minLength:Object(x["minLength"])(4),required:x["required"],numeric:x["numeric"]},passportNumber:{minLength:Object(x["minLength"])(6),required:x["required"],numeric:x["numeric"]},registrationAddress:{alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё0-9,\.,/,-\s]+$/),minLength:Object(x["minLength"])(2),maxLength:Object(x["maxLength"])(150),required:x["required"]},placeOfResidence:{alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё0-9,\.,/,-\s]+$/),minLength:Object(x["minLength"])(2),maxLength:Object(x["maxLength"])(150),required:x["required"]},passportPlaceOfIssue:{required:x["required"],alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё,\.\s]+$/),minLength:Object(x["minLength"])(2),maxLength:Object(x["maxLength"])(150)},passportCode:{minLength:Object(x["minLength"])(6),required:x["required"],numeric:x["numeric"]},birthDate:{required:x["required"],maxValue:function(t){return t<(new Date).toISOString()},minValue:Z,alpha:x["helpers"].regex("alpha",/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}$/)},passportDateOfIssue:{required:x["required"],maxValue:function(t){return t<(new Date).toISOString()},alpha:x["helpers"].regex("alpha",/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}$/)},confidantFirstName:{required:x["required"],alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё]*$/)},confidantLastName:{required:x["required"],alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё]*$/)},confidantMiddleName:{required:x["required"],alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё]*$/)},confidantPhone:{minLength:Object(x["minLength"])(14),required:x["required"]},relationship:{required:x["required"],alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё]*$/)}},components:{PutContact:Y},computed:Object(w["a"])(Object(w["a"])({},Object(T["b"])({currentUser:function(t){return t.register.currentUser},contact:function(t){return t.register.contact}})),{},{birthDateGo:function(){var t=this.birthDate,e=new Date(t);return e},now:function(){var t=new Date;return t},fullYear:function(){this.now,this.birthDateGo;var t=this.now.getMonth()-this.birthDateGo.getMonth()>=0&&this.now.getDate()-this.birthDateGo.getDate()>=0,e=this.now.getFullYear()-this.birthDateGo.getFullYear();return e-1+(t?1:0)}}),methods:{submit:function(){this.confidantFirstName.length||this.confidantLastName.length||this.confidantMiddleName.length||this.confidantPhone.length||this.relationship.length?(this.$v.$touch(),this.$v.$invalid?this.submitStatus="ERROR in first":this.request()):(this.$v.lastName.$touch(),this.$v.firstName.$touch(),this.$v.middleName.$touch(),this.$v.email.$touch(),this.$v.phone.$touch(),this.$v.placeOfResidence.$touch(),this.$v.passportSerial.$touch(),this.$v.passportNumber.$touch(),this.$v.registrationAddress.$touch(),this.$v.passportPlaceOfIssue.$touch(),this.$v.passportCode.$touch(),this.$v.birthDate.$touch(),this.$v.passportDateOfIssue.$touch(),this.$v.lastName.$invalid||this.$v.firstName.$invalid||this.$v.middleName.$invalid||this.$v.email.$invalid||this.$v.phone.$invalid||this.$v.placeOfResidence.$invalid||this.$v.passportSerial.$invalid||this.$v.passportNumber.$invalid||this.$v.passportPlaceOfIssue.$invalid||this.$v.passportCode.$invalid||this.$v.birthDate.$invalid||this.$v.passportDateOfIssue.$invalid?this.submitStatus="ERROR second":this.request())},ChangeConfidant:function(t){this.confidantData=t},handleFileUpload:function(t){var e=this;this.file=this.$refs.file.files,Object(k["a"])(this.file).forEach((function(t){if(!t.type.match("image"))return console.log("Не изображение!");var a=new FileReader;a.onload=function(t){e.addfoto=!0,e.newProduct.push({src:t.target.result,file:file})},a.readAsDataURL(t)}))},bytesToSize:function(t){var e=["Bytes","KB","MB","GB","TB"];if(!t)return"0 Byte";var a=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return Math.round(t/Math.pow(1024,a))+" "+e[a]},removeHandler:function(t,e){this.newProduct.splice(t,1),this.$refs.file.value=null,this.addfoto=!this.addfoto},request:function(){var t=this;this.$store.dispatch(q.contact,this.formData).then((function(){"SUCCESS"===t.contact.data.status&&t.$store.dispatch(q.getDataContact,t.item).then((function(){t.$emit("validFirstBlock")})).catch((function(t){console.log(t,"Error")}))})).catch((function(t){console.log("Ошибка",t)}))},changeFirstBlock:function(){this.$emit("validFirstBlock")},validFirstBlock:function(){this.passportData={registrationAddress:this.registrationAddress,passportPlaceOfIssue:this.passportPlaceOfIssue,departmentCode:this.passportCode,passportDateOfIssue:this.passportDateOfIssue,passportSerial:this.passportSerial,passportNumber:this.passportNumber,birthDate:this.birthDate},this.confidantFirstName.length&&this.confidantLastName.length&&this.confidantMiddleName.length&&this.confidantPhone.length&&this.relationship.length?this.confidantData={confidantFirstName:this.confidantFirstName,confidantLastName:this.confidantLastName,confidantMiddleName:this.confidantMiddleName,confidantPhone:this.confidantPhone,relationship:this.relationship}:this.confidantData=null,this.formData=new FormData;var t=this.file;this.formData.append("file",t[0]),this.formData.append("lastName",this.lastName),this.formData.append("firstName",this.firstName),this.formData.append("middleName",this.middleName),this.formData.append("email",this.email),this.formData.append("contactPhone",this.phone),this.formData.append("placeOfResidence",this.placeOfResidence),this.formData.append("passportData",JSON.stringify(this.passportData)),this.formData.append("confidantData",JSON.stringify(this.confidantData)),this.item={lastName:this.lastName,firstName:this.firstName,middleName:this.middleName,email:this.email,contactPhone:this.phone,placeOfResidence:this.placeOfResidence,passportData:this.passportData,confidantData:this.confidantData},this.submit()}}},et=tt,at=Object(J["a"])(et,$,S,!1,null,null,null),st=at.exports,it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-post"},[this.getWeaponItem?s("div",{staticClass:"get-weapon__ready"},[s("div",{staticClass:"get-weapon__ready-block"},[s("div",{staticClass:"get-weapon__text"},[s("div",{staticClass:"get-weapon__title title-center"},[t._v(" Выбранное оружие: "+t._s(this.getWeaponItem.weaponName)+" ")]),this.getWeaponItem.barrel_length?s("p",{staticClass:"get-weapon__name"},[t._v(" Длина ствола: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.barrel_length)+" ")])]):t._e(),this.getWeaponItem.caliber?s("p",{staticClass:"get-weapon__name"},[t._v(" Калибр: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.caliber))])]):t._e(),this.getWeaponItem.capacity?s("p",{staticClass:"get-weapon__name"},[t._v(" Объем магазина: "),s("span",{staticClass:"get-weapon__data"},[t._v(" "+t._s(this.getWeaponItem.capacity)+" ")])]):t._e(),this.getWeaponItem.chamber_length?s("p",{staticClass:"get-weapon__name"},[t._v(" Длина патронника: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.chamber_length)+" ")])]):t._e(),this.getWeaponItem.dimensions?s("p",{staticClass:"get-weapon__name"},[t._v(" Размер оружия: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.dimensions)+" ")])]):t._e(),this.getWeaponItem.extra_info?s("p",{staticClass:"get-weapon__name"},[t._v(" Дополнительнная инфорация: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.extra_info)+" ")])]):t._e(),this.getWeaponItem.gost?s("p",{staticClass:"get-weapon__name"},[t._v(" ГОСТ: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.gost)+" ")])]):t._e(),this.getWeaponItem.manufacture?s("p",{staticClass:"get-weapon__name"},[t._v(" Производитель: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.manufacture)+" ")])]):t._e(),this.getWeaponItem.muzzle?s("p",{staticClass:"get-weapon__name"},[t._v(" Дуло: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.muzzle)+" ")])]):t._e(),this.getWeaponItem.muzzle_energy?s("p",{staticClass:"get-weapon__name"},[t._v(" Дульная энергия: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.muzzle_energy))])]):t._e(),this.getWeaponItem.type?s("p",{staticClass:"get-weapon__name"},[t._v(" Тип оружия: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.type)+" ")])]):t._e(),this.getWeaponItem.weight?s("p",{staticClass:"get-weapon__name"},[t._v(" Вес оружия: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.weight))])]):t._e(),s("div",{staticClass:"get-weapon__btn"},[s("button",{staticClass:"button btn-primary",attrs:{type:"button"},on:{click:function(e){return t.check()}}},[t._v(" Изменить оружие ")])])]),s("div",{staticClass:"get-weapon__address"},[t._m(0),s("label",{staticClass:"get-weapon__title title-center",attrs:{for:"addres"}},[t._v(" Адрес хранения оружия: ")]),s("VueDadata",{on:{changeSecondBlock:t.changeSecondBlock}})],1)])]):t._e(),null===this.getWeaponItem?s("div",{},[s("p",{staticClass:"mini-title"},[t._v("Выбор оружия")]),s("div",{staticClass:"search-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input-search",attrs:{type:"search",id:"search-bar",name:"search",placeholder:"Введите название оружия","aria-label":"Вводите"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),s("img",{staticClass:"search-icon",attrs:{src:a("249a"),alt:"Search"},on:{click:function(e){return t.onChange(t.search)}}})]),t.search?s("div",{staticClass:"get-weapon__row"},[s("div",{staticClass:"get-weapon__column"},t._l(this.Weapon,(function(e){return s("ItemWeapon",{key:e.id,attrs:{weapon_item:e},on:{changeSecondBlock:t.changeSecondBlock}})})),1),this.Weapon&&0===this.Weapon.length?s("div",{staticClass:"get-weapon__error"},[s("p",{staticClass:"get-weapon__error-title"},[t._v(" Оружия с данным наименованием не найдено! ")])]):t._e()]):t._e()]):t._e(),t.showModal?s("ModalChange",{on:{close:function(e){t.showModal=!1}}}):t._e()],1)},nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"warning"},[a("p",{staticClass:"error-messages-item"},[t._v(" Для дальнейшей регистрации необходимо указать адрес хранения оружия! ")])])}],ot=(a("841c"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"},on:{click:function(e){return t.$emit("close")}}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[a("h1",{staticClass:"modal__title"},[t._v("Подтвердите действие!")]),t._t("header",(function(){return[a("p",[t._v("Вы действительно хотите изменить свой выбор?")])]}))],2),a("div",{staticClass:"modal-body"},[a("input",{staticClass:"modal__btn",attrs:{type:"button",value:"Да"},on:{click:function(e){return t.submit()}}}),a("input",{staticClass:"modal__btn",attrs:{type:"button",value:"НЕТ"},on:{click:function(e){return t.$emit("close")}}})]),a("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])])}),rt=[],lt={name:"AppModal",props:{weapon:{type:Object,default:function(){return{}}}},methods:{submit:function(){var t=this;this.$store.dispatch(q.changeWeaponItem).then((function(){t.$emit("close")})).catch((function(t){console.log("Ошибка",t)}))}}},ct=lt,ut=Object(J["a"])(ct,ot,rt,!1,null,null,null),dt=ut.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isActiveError?a("p",{staticClass:"error-input"},[t._v("Адрес введен не полностью!")]):t._e(),this.getStorageItem?a("div",{staticClass:"data-title"},[a("p",[t._v(t._s(this.getStorageItem.storage))])]):t._e(),this.getStorageItem?t._e():a("div",{},[!1===t.isChecked?a("vue-dadata",{attrs:{token:"ebd2ba512adfc5a0a92d682a21f03adda0331b04",onChange:t.onChange,autoload:!0}}):t._e(),a("div",{staticClass:"checkbox-block"},[a("label",{staticClass:"switch",attrs:{for:"checkbox"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isChecked,expression:"isChecked"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(t.isChecked)?t._i(t.isChecked,null)>-1:t.isChecked},on:{change:function(e){var a=t.isChecked,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,o=t._i(a,n);s.checked?o<0&&(t.isChecked=a.concat([n])):o>-1&&(t.isChecked=a.slice(0,o).concat(a.slice(o+1)))}else t.isChecked=i}}}),a("div",{staticClass:"slider round"})]),a("p",[t._v("Не можете найти свой адрес?")])]),!0===t.isChecked?a("div",{staticClass:"checkbox-block-input"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.storageNew,expression:"storageNew",modifiers:{trim:!0}}],staticClass:"text-input",domProps:{value:t.storageNew},on:{input:function(e){e.target.composing||(t.storageNew=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]):t._e(),a("input",{staticClass:"button btn-primary",attrs:{type:"button",value:"Далее"},on:{click:function(e){return t.Submit()}}})],1),this.getStorageItem?a("input",{staticClass:"button btn-primary",attrs:{type:"button",value:"Далее"},on:{click:function(e){return t.SubmitOk()}}}):t._e()])},mt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"registrationAddress"}},[t._v("Введите точный адрес:")])])}],ht=a("4e06"),vt={name:"VueDadata",data:function(){return{storageData:null,isActiveError:!1,isActiveBlock:!1,isChecked:!1,storageNew:""}},computed:Object(w["a"])({},Object(T["b"])({getStorageItem:function(t){return t.register.getStorageItem}})),components:{"vue-dadata":ht["a"]},methods:{onChange:function(t){null!=t.data.house&&null!=t.data.street&&(this.isActiveError=!1,this.storageData={storage:t.value,storageLat:t.data.geo_lat,storageLon:t.data.geo_lon})},Submit:function(){var t=this;this.storageData?this.$store.dispatch(q.getStorageItem,this.storageData).then((function(){t.isActiveError=!1,t.$emit("changeSecondBlock"),t.$emit("close")})).catch((function(t){console.log("Ошибка",t)})):!0!==this.isChecked||this.storageData?this.isActiveError=!0:(this.storageData={storage:this.storageNew},this.$store.dispatch(q.getStorageItem,this.storageData).then((function(){t.isActiveError=!1,t.$emit("changeSecondBlock"),t.$emit("close")})).catch((function(t){console.log("Ошибка",t)})))},SubmitOk:function(){this.$emit("changeSecondBlock")}}},ft=vt,_t=Object(J["a"])(ft,pt,mt,!1,null,null,null),gt=_t.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"get-weapon__block"},[a("div",{staticClass:"get-weapon__text-block"},[a("div",{staticClass:"get-weapon__title"},[t._v(" "+t._s(this.weapon_item.weaponName)+" ")]),this.weapon_item.barrel_length?a("p",{staticClass:"get-weapon__name"},[t._v(" Длина ствола: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.barrel_length)+" ")])]):t._e(),this.weapon_item.caliber?a("p",{staticClass:"get-weapon__name"},[t._v(" Калибр: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.caliber))])]):t._e(),this.weapon_item.capacity?a("p",{staticClass:"get-weapon__name"},[t._v(" Объем магазина: "),a("span",{staticClass:"get-weapon__data"},[t._v(" "+t._s(this.weapon_item.capacity)+" ")])]):t._e(),this.weapon_item.chamber_length?a("p",{staticClass:"get-weapon__name"},[t._v(" Длина патронника: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.chamber_length)+" ")])]):t._e(),this.weapon_item.dimensions?a("p",{staticClass:"get-weapon__name"},[t._v(" Размер оружия: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.dimensions)+" ")])]):t._e(),this.weapon_item.extra_info?a("p",{staticClass:"get-weapon__name"},[t._v(" Дополнительнная инфорация: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.extra_info)+" ")])]):t._e(),this.weapon_item.gost?a("p",{staticClass:"get-weapon__name"},[t._v(" ГОСТ: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.gost)+" ")])]):t._e(),this.weapon_item.manufacture?a("p",{staticClass:"get-weapon__name"},[t._v(" Производитель: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.manufacture)+" ")])]):t._e(),this.weapon_item.muzzle?a("p",{staticClass:"get-weapon__name"},[t._v(" Дуло: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.muzzle)+" ")])]):t._e(),this.weapon_item.muzzle_energy?a("p",{staticClass:"get-weapon__name"},[t._v(" Дульная энергия: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.muzzle_energy))])]):t._e(),this.weapon_item.type?a("p",{staticClass:"get-weapon__name"},[t._v(" Тип оружия: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.type)+" ")])]):t._e(),this.weapon_item.weight?a("p",{staticClass:"get-weapon__name"},[t._v(" Вес оружия: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.weight))])]):t._e()]),a("div",{staticClass:"get-weapon__btn"},[a("button",{staticClass:"button btn-primary",attrs:{type:"button","data-tab":"post"},on:{click:function(e){return t.check()}}},[t._v(" Выбрать ")])]),t.showModal?a("Modal",{attrs:{weapon:this.weapon_item},on:{close:function(e){t.showModal=!1},changeSecondBlock:t.changeSecondBlock}}):t._e()],1)},bt=[],wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"},on:{click:function(e){return t.$emit("close")}}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[a("h1",{staticClass:"modal__title"},[t._v("Подтвердите действие!")]),t._t("header",(function(){return[a("p",[t._v("Вы действительно хотите выбрать данное оружие?")])]}))],2),a("div",{staticClass:"modal-body"},[a("input",{staticClass:"modal__btn",attrs:{type:"button",value:"Да"},on:{click:function(e){return t.submit()}}}),a("input",{staticClass:"modal__btn",attrs:{type:"button",value:"НЕТ"},on:{click:function(e){return t.$emit("close")}}})]),a("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])])},$t=[],St={name:"AppModal",props:{weapon:{type:Object,default:function(){return{}}}},methods:{submit:function(){var t=this;this.$store.dispatch(q.getWeaponItem,this.weapon).then((function(){t.$emit("close")})).catch((function(t){console.log("Ошибка",t)}))}}},kt=St,xt=Object(J["a"])(kt,wt,$t,!1,null,null,null),Pt=xt.exports,Ot={name:"AppItemWeapon",data:function(){return{showModal:!1}},props:{weapon_item:{type:Object,default:function(){return{}}}},components:{Modal:Pt},methods:{changeSecondBlock:function(){this.$emit("changeSecondBlock")},check:function(){this.showModal=!0}}},Nt=Ot,Dt=Object(J["a"])(Nt,Ct,bt,!1,null,null,null),yt=Dt.exports,It={name:"AppChoiceOfWeapon",data:function(){return{search:"",isActiveBlock:!0,showModal:!1}},computed:Object(w["a"])(Object(w["a"])({},Object(T["b"])({Weapon:function(t){return t.register.weapon},currentUser:function(t){return t.register.currentUser},getWeaponItem:function(t){return t.register.getWeaponItem}})),{},{searchReact:function(){return this.search}}),components:{ItemWeapon:yt,VueDadata:gt,ModalChange:dt},methods:{onChange:function(t){var e=t;this.$store.dispatch(q.getWeapon,e).then((function(t){})).catch((function(t){console.log("Ошибка",t)}))},changeSecondBlock:function(){this.$emit("changeSecondBlock")},check:function(){this.showModal=!0}},watch:{searchReact:function(){var t=this.searchReact;""===t||this.$store.dispatch(q.getWeapon,t).then((function(t){})).catch((function(t){console.log("Ошибка",t)}))}}},At=It,Lt=Object(J["a"])(At,it,nt,!1,null,null,null),jt=Lt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"active-block"},[a("p",{staticClass:"mini-title"},[t._v("Активация блока")]),a("div",{staticClass:"active-block-input"},[a("label",{attrs:{for:"active"}},[t._v("Введите серийный номер блока:")]),this.statusActivation?a("div",{staticClass:"active-block-error"},["FAIL"===this.statusActivation.data.status?a("div",{staticClass:"active-block-error__fail"},[a("p",{staticClass:"active-block-error__error-input"},[t._v(" "+t._s(this.statusActivation.data.message)+" ")])]):t._e()]):t._e(),this.failureServer?a("div",{staticClass:"active-block-error"},["FAIL"===this.failureServer.status?a("div",{staticClass:"active-block-error__fail"},[a("p",{staticClass:"active-block-error__error-input"},[t._v(" "+t._s(this.failureServer.message)+" ")])]):t._e()]):t._e(),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.serial.$model,expression:"$v.serial.$model",modifiers:{trim:!0}}],staticClass:"seria-input serial",attrs:{maxlength:"14",placeholder:"xxxxxxxxxxxxxx"},domProps:{value:t.$v.serial.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.serial,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.isLoading?a("div",{staticClass:"loader"},[a("p",{staticClass:"loader-title"},[t._v("Loading...")]),t._m(0)]):t._e(),a("div",{staticClass:"registr-block__button"},[a("button",{staticClass:"button btn-primary",attrs:{type:"button",disabled:!0===t.isLoading},on:{click:function(e){return t.active()}}},[t._v(" Активировать ")])])])])},Et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"clock"}),a("div",{staticClass:"clock"})])}],Ft={name:"AppActiveBlock",data:function(){return{activeBlock:{},serial:"",passport_id:""}},validations:{serial:{minLength:Object(x["minLength"])(14),maxLength:Object(x["maxLength"])(14),required:x["required"]}},computed:Object(w["a"])({},Object(T["b"])({currentUser:function(t){return t.register.currentUser},validationErrors:function(t){return t.register.validationErrors},getWeaponItem:function(t){return t.register.getWeaponItem},getStorageItem:function(t){return t.register.getStorageItem},isLoading:function(t){return t.register.isLoading},statusActivation:function(t){return t.register.statusActivation},failureServer:function(t){return t.register.failureServer}})),methods:{active:function(){this.activeBlock={passportSerial:this.currentUser.passportData.passportSerial,passportNumber:this.currentUser.passportData.passportNumber,serial:this.serial,weaponId:this.getWeaponItem.id,storageData:this.getStorageItem},this.$store.dispatch(q.getSerial,this.activeBlock).then((function(t){"SUCCESS"===t.status&&xa.push({name:"success"})})).catch((function(t){console.log("Ошибка",t)}))},success:function(){},seri:function(){v.put("http://90.189.217.244:9016/api/1/unit/activate",null,{params:{serial:this.serial}}).then((function(t){console.log(t),console.log("SUCCESS!!")})).catch((function(t){console.log(t,"FAILURE!!")}))}}},Bt=Ft,Ut=Object(J["a"])(Bt,Wt,Et,!1,null,null,null),Mt=Ut.exports,qt={data:function(){return{title:"Регистрация",isBlockActive:!0,isPostActive:!1,isPayActive:!1,isButtonDisabled:!1}},components:{ContactInfo:st,ChoiceOfWeapon:jt,ActiveBlock:Mt},computed:Object(w["a"])({},Object(T["b"])({isAuthenticated:function(t){return t.auth.isAuthenticated},token:function(t){return t.auth.token},currentUser:function(t){return t.register.currentUser},isLoading:function(t){return t.clients.isLoading},getWeaponItem:function(t){return t.register.getWeaponItem}})),methods:{changeFirstBlock:function(){this.switchTabsClass("block")},changeSecondBlock:function(){this.switchTabsClass("post")},switchTabsClass:function(t){if("block"===t){if(null!=this.currentUser){this.isBlockActive=!1,this.isPostActive=!0,this.isPayActive=!1;var e=document.getElementById("choice-weapons");e.classList.add("active")}}else if("post"===t){if(null!=this.getWeaponItem){this.isBlockActive=!1,this.isPostActive=!1,this.isPayActive=!0;var a=document.getElementById("choice-weapons");a.classList.add("active");var s=document.getElementById("active-block");s.classList.add("active")}}else this.isBlockActive=!0,this.isPostActive=!1,this.isPayActive=!1}},mounted:function(){"undefined"!==this.token&&""!==this.token||this.$router.push({name:"login"})},beforeMount:function(){document.title=this.title},beforeUpdate:function(){document.title=this.title}},zt=qt,Rt=Object(J["a"])(zt,C,b,!1,null,null,null),Ht=Rt.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-login"},[a("div",{staticClass:"login"},[t._m(0),a("div",{staticClass:"error-messages"},[t.validationErrors?a("AppValidationErrors",{attrs:{"validation-errors":t.validationErrors}}):t._e()],1),a("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("fieldset",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Логин",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("fieldset",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"Пароль"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("input",{staticClass:"button btn-primary",attrs:{type:"button",value:"Вход"},on:{click:function(e){return t.onSubmit()}}})])])])},Vt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login__img"},[s("img",{attrs:{src:a("f833"),alt:"Logo"}})])}],Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"error-messages-item"},[a("li",[t._v(" "+t._s(t.validationErrors.message)+" ")])])},Jt=[],Gt={name:"AppValidationErrors",props:{validationErrors:{type:Object,required:!0}},computed:{}},Yt=Gt,Kt=Object(J["a"])(Yt,Xt,Jt,!1,null,null,null),Qt=Kt.exports,Zt={name:"AppLogin",data:function(){return{email:"",password:"",title:"Авторизация"}},components:{AppValidationErrors:Qt},computed:Object(w["a"])({},Object(T["b"])({isSubmitting:function(t){return t.auth.isSubmitting},validationErrors:function(t){return t.auth.validationErrors}})),methods:{onSubmit:function(){var t=this;this.$store.dispatch(Na.login,{email:this.email,password:this.password}).then((function(){t.validationErrors||t.$router.push({name:"Registration"})})).catch((function(t){console.log("Ошибка",t)}))}},beforeMount:function(){document.title=this.title},beforeUpdate:function(){document.title=this.title}},te=Zt,ee=Object(J["a"])(te,Tt,Vt,!1,null,null,null),ae=ee.exports,se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clients"},[t.isLoading?s("div",{staticClass:"holder"},[t._m(0)]):t._e(),s("div",{staticClass:"container"},[s("div",{staticClass:"clients-wrap"},[s("div",{staticClass:"clients__select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.select,expression:"select"}],staticClass:"text-input",attrs:{id:"standard-select"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.select=e.target.multiple?a:a[0]}}},[s("option",{attrs:{value:"serial"}},[t._v("Поиск по серийному номеру:")]),s("option",{attrs:{value:"phone"}},[t._v("Поиск по номеру телефона:")])])]),s("div",{staticClass:"clients__search-container"},[s("div",{staticClass:"search-container2",class:{activeBlock:"serial"===this.select}},[s("div",{staticClass:"clients__search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input-search",attrs:{type:"search",id:"search-bar",name:"search",maxlength:"14",placeholder:"Введите серийный номер блока","aria-label":"Вводите"},domProps:{value:t.search},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onChange(t.search)},input:function(e){e.target.composing||(t.search=e.target.value)}}}),s("img",{staticClass:"search-icon",attrs:{src:a("249a"),alt:"Search"},on:{click:function(e){return t.onChange(t.search)}}})])]),s("div",{staticClass:"search-container2",class:{activeBlock:"phone"===this.select}},[s("div",{staticClass:"clients__search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"},{name:"phone",rawName:"v-phone"}],staticClass:"text-input",attrs:{type:"tel",id:"search-bar",name:"phone",placeholder:"8(___)___-____",maxlength:"14",required:""},domProps:{value:t.phone},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchPhone(t.phone)},input:function(e){e.target.composing||(t.phone=e.target.value)}}}),s("img",{staticClass:"search-icon",attrs:{src:a("249a"),alt:"Search"},on:{click:function(e){return t.searchPhone(t.phone)}}})])])])]),s("div",{staticClass:"clients__row"},[this.validationErrors?s("div",{staticClass:"clients__error"},["FAIL"===this.validationErrors.status?s("div",{staticClass:"mini-title"},[t._v(" "+t._s(this.validationErrors.message)+" ")]):t._e()]):t._e(),!this.allClients&&this.confirm?s("div",{staticClass:"confirm"},[s("svg",{staticClass:"svg-inline--fa fa-user-times fa-w-20",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"user-times",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"}},[s("path",{attrs:{fill:"currentColor",d:"M589.6 240l45.6-45.6c6.3-6.3 6.3-16.5 0-22.8l-22.8-22.8c-6.3-6.3-16.5-6.3-22.8 0L544 194.4l-45.6-45.6c-6.3-6.3-16.5-6.3-22.8 0l-22.8 22.8c-6.3 6.3-6.3 16.5 0 22.8l45.6 45.6-45.6 45.6c-6.3 6.3-6.3 16.5 0 22.8l22.8 22.8c6.3 6.3 16.5 6.3 22.8 0l45.6-45.6 45.6 45.6c6.3 6.3 16.5 6.3 22.8 0l22.8-22.8c6.3-6.3 6.3-16.5 0-22.8L589.6 240zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}})]),s("p",{staticClass:"confirm__title"},[t._v(t._s(this.confirm))])]):t._e(),this.allClients?s("div",{staticClass:"clients__column"},[s("div",{staticClass:"clients__first"},[s("ItemClients",{attrs:{client_item:this.allClients}})],1),s("div",{staticClass:"clients__second"},[s("PutItemClient",{attrs:{client_item:this.allClients},on:{changeData:t.changeData}})],1)]):t._e()]),this.allClients?s("div",{},[s("p",{staticClass:"mini-title"},[t._v("Блоки Оружий")]),t._l(this.allClients.unitInfo,(function(e){return s("BlocksWeapon",{key:e.id,attrs:{weapon_item:e},on:{deleteBlock:t.deleteBlock}})})),s("div",{staticClass:"add-blocks-weapon"},[s("button",{staticClass:"button btn-neutral",attrs:{type:"button"},on:{click:t.addToBlock}},[s("svg",{staticClass:"svg-inline--fa fa-plus fa-w-14",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"plus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[s("path",{attrs:{fill:"currentColor",d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}})]),t._v(" Добавить новое оружия ")])])],2):t._e()])])},ie=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"preloader"},[a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div")])}],ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"client-block"},[a("h3",{staticClass:"client-block__name"},[t._v(" "+t._s(this.client_item.lastName)+" "+t._s(this.client_item.firstName)+" "+t._s(this.client_item.middleName)+" ")]),!1===t.isAddfoto?a("div",{staticClass:"client-block__img"},[a("img",{attrs:{src:""+this.client_item.downloadUrl,alt:""}})]):t._e(),!0===t.isAddfoto&&this.newPhoto.length?a("div",[a("div",{staticClass:"client-block__img",attrs:{id:"foto"}},t._l(this.newPhoto,(function(e,s){return a("div",{key:s,staticClass:"photo-item__column"},[a("div",{staticClass:"preview-image"},[a("div",{staticClass:"preview-remove",attrs:{"data-name":e.file.name},on:{click:function(a){return t.removeHandler(s,e.file.name)}}},[t._v(" X ")]),a("div",{staticClass:"preview-block"},[a("img",{attrs:{src:e.src,alt:"foto"}})])])])})),0)]):t._e(),!1===t.isAddfoto?a("div",{staticClass:"example-2"},[a("div",{staticClass:"form-group"},[a("form",{ref:"myForm"},[a("input",{ref:"file",staticClass:"input-file",attrs:{type:"file",id:"file",accept:"image/jpeg"},on:{change:t.handleFileUpload}}),a("label",{staticClass:"btn btn-tertiary-new js-labelFileNew",attrs:{for:"file"}},[a("svg",{staticClass:"svg-inline--fa fa-download fa-w-16",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"download",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[a("path",{attrs:{fill:"currentColor",d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}})]),a("span",{staticClass:"js-fileName"},[t._v("Изменить фотографию")])])])])]):t._e(),!0===t.isAddfoto&&this.newPhoto.length?a("button",{staticClass:"btn btn-white",attrs:{type:"submit"},on:{click:function(e){return t.putImage()}}},[t._v(" Загрузить ")]):t._e(),a("div",{staticClass:"client-block__info"},[a("p",{staticClass:"clients__info-title"},[t._v(" Email: "),a("span",[t._v(t._s(this.client_item.email))])]),a("p",{staticClass:"clients__info-title"},[t._v(" Телефон: "),a("span",[t._v(t._s(this.client_item.contactPhone))])])]),a("div",{staticClass:"client-block__info-btn"},[a("div",{staticClass:"client-block__info-btn-item",on:{click:function(e){return t.show()}}},[a("span",{staticClass:"link-text"},[a("svg",{staticClass:"svg-inline--fa fa-arrow-left fa-w-14 svg1",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"arrow-left",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[a("path",{attrs:{fill:"#21399b",d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}})]),t._v(" Удалить ")])])]),t.showModal?a("ModalDelete",{attrs:{client:this.client_item},on:{close:function(e){t.showModal=!1}}}):t._e()],1)},oe=[],re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"},on:{click:function(e){return t.$emit("close")}}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[a("h1",{staticClass:"modal__title"},[t._v("Подтвердите действие!")]),t._t("header",(function(){return[a("p",[t._v("Вы действительно хотите удалить данного Клиента?")])]}))],2),a("div",{staticClass:"modal-body"},[a("input",{staticClass:"modal__btn",attrs:{type:"button",value:"Да"},on:{click:function(e){return t.submit()}}}),a("input",{staticClass:"modal__btn",attrs:{type:"button",value:"Нет"},on:{click:function(e){return t.$emit("close")}}})]),a("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])])},le=[],ce=function(){return v.get("/api/1/admin/get/all")},ue=function(t){return v.get("/api/1/admin/search/serial",{params:{serial:t}})},de=function(t){return v.get("/api/1/admin/search/phone",{params:{phone:t}})},pe=function(t){return v.delete("/api/1/admin/delete/".concat(t.id))},me=function(t){return v.delete("/api/1/unit/delete",{data:t})},he={AllClients:ce,deleteClient:pe,getSearchClients:ue,getSearchPhoneClient:de,deleteWeaponClient:me},ve={isSubmitting:!1,isLoading:!1,validationErrors:null,allClients:c("allClients"),confirm:""},fe={allClientsStart:"[clients] allClientsStart",allClientsSuccess:"[clients] allClientsSuccess",allClientsFailure:"[clients] allClientsFailure",getSearchClientStart:"[clients] getSearchClientStart",getSearchClientSuccess:"[clients] getSearchClientSucceess",getSearchClientFailure:"[clients] getSearchClientFailure",getSearchPhoneClientStart:"[clients]  getSearchPhoneClientStart",getSearchPhoneClientSuccess:"[clients]  getSearchPhoneClientSucceess",getSearchPhoneClientFailure:"[clients]  getSearchPhoneClientFailure",deleteClientStart:"[clients] deleteClientStart",deleteClientSuccess:"[clients] deleteClientSuccess",deleteClientFailure:"[clients] deleteClientFailure",deleteWeaponClientStart:"[clients] deleteWeaponClientStart",deleteWeaponClientSuccess:"[clients] deleteWeaponClientSuccess",deleteWeaponClientFailure:"[clients] deleteWeaponClientFailure"},_e={getAllclients:"[clients] clients",deleteClient:"[clients] deleteClient",getSearchClient:"[client] getSearchClient",getSearchPhoneClient:"[client] getSearchPhoneClient",deleteWeaponClient:"[client] deleteWeaponClient"},ge=(m={},Object(o["a"])(m,fe.allClientsStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(m,fe.allClientsSuccess,(function(t,e){t.isLoading=!1,t.allClients=e.data.result})),Object(o["a"])(m,fe.allClientsFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),Object(o["a"])(m,fe.getSearchClientStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(m,fe.getSearchClientSuccess,(function(t,e){t.isLoading=!1,t.allClients=e.data.result,t.confirm="",localStorage.setItem("allClients",JSON.stringify(t.allClients)),t.validationErrors=e.data})),Object(o["a"])(m,fe.getSearchClientFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),Object(o["a"])(m,fe.getSearchPhoneClientStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(m,fe.getSearchPhoneClientSuccess,(function(t,e){t.isLoading=!1,t.allClients=e.data.result,t.confirm="",localStorage.setItem("allClients",JSON.stringify(t.allClients)),t.validationErrors=e.data})),Object(o["a"])(m,fe.getSearchPhoneClientFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),Object(o["a"])(m,fe.deleteClientStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(m,fe.deleteClientSuccess,(function(t){t.isLoading=!1,t.allClients=null,t.confirm="Вы удалили пользователя!"})),Object(o["a"])(m,fe.deleteClientFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),Object(o["a"])(m,fe.deleteWeaponClientStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(m,fe.deleteWeaponClientSuccess,(function(t){t.isLoading=!1})),Object(o["a"])(m,fe.deleteWeaponClientFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),m),Ce=(h={},Object(o["a"])(h,_e.getAllclients,(function(t){return new Promise((function(e){t.commit(fe.allClientsStart),he.AllClients().then((function(a){t.commit(fe.allClientsSuccess,a),e(a)})).catch((function(e){t.commit(fe.allClientsFailure,e),console.log("ошибка",e)}))}))})),Object(o["a"])(h,_e.getSearchClient,(function(t,e){return new Promise((function(a){t.commit(fe.getSearchClientStart),he.getSearchClients(e).then((function(e){t.commit(fe.getSearchClientSuccess,e),a(e)})).catch((function(e){t.commit(fe.getSearchClientFailure,e),console.log("ошибка",e)}))}))})),Object(o["a"])(h,_e.getSearchPhoneClient,(function(t,e){return new Promise((function(a){t.commit(fe.getSearchPhoneClientStart),he.getSearchPhoneClient(e).then((function(e){t.commit(fe.getSearchPhoneClientSuccess,e),a(e)})).catch((function(e){t.commit(fe.getSearchPhoneClientFailure,e),console.log("ошибка",e)}))}))})),Object(o["a"])(h,_e.deleteClient,(function(t,e){return new Promise((function(a){t.commit(fe.deleteClientStart),he.deleteClient(e).then((function(e){t.commit(fe.deleteClientSuccess,e),a(e)})).catch((function(e){t.commit(fe.deleteClientFailure,e),console.log("ошибка",e)}))}))})),Object(o["a"])(h,_e.deleteWeaponClient,(function(t,e){return new Promise((function(a){t.commit(fe.deleteWeaponClientStart),he.deleteWeaponClient(e).then((function(e){t.commit(fe.deleteWeaponClientSuccess,e),a(e)})).catch((function(e){t.commit(fe.deleteWeaponClientFailure,e),console.log("ошибка",e)}))}))})),h),be={state:ve,mutations:ge,actions:Ce},we={name:"AppModalDelete",data:function(){return{isShow:!1}},props:{client:{type:Object,default:function(){return{}}}},methods:{submit:function(){this.$store.dispatch(_e.deleteClient,this.client).then((function(){})).catch((function(t){console.log("Ошибка",t)}))}}},$e=we,Se=Object(J["a"])($e,re,le,!1,null,null,null),ke=Se.exports,xe={name:"AppItemClient",data:function(){return{id:"",showModal:!1,newPhoto:[],isAddfoto:!1,file:[]}},props:{client_item:{type:Object,default:function(){return{}}}},components:{ModalDelete:ke},methods:{show:function(){this.showModal=!0},handleFileUpload:function(t){var e=this;this.file=this.$refs.file.files,Object(k["a"])(this.file).forEach((function(t){if(!t.type.match("image"))return console.log("Не изображение!");var a=new FileReader;a.onload=function(t){e.isAddfoto=!0,e.newPhoto.push({src:t.target.result,file:file})},a.readAsDataURL(t)}))},putImage:function(){var t=this,e=new FormData,a=this.file;e.append("file",a[0]),e.append("id",this.client_item.id),this.$store.dispatch(q.addPhoto,e).then((function(){t.isAddfoto=!1,t.newPhoto=[]})).catch((function(t){console.log(t,"Error")}))},removeHandler:function(t,e){this.newPhoto.splice(t,1),this.isAddfoto=!this.isAddfoto}}},Pe=xe,Oe=Object(J["a"])(Pe,ne,oe,!1,null,null,null),Ne=Oe.exports,De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form"},[a("form",{staticClass:"put-succsess-blok",on:{submit:function(e){return e.preventDefault(),t.putContact.apply(null,arguments)}}},[a("div",{staticClass:"registr-block__put-first"},[a("p",{staticClass:"mini-title"},[t._v("Контактная информация")]),a("div",{staticClass:"registr-block__input"},[a("label",{attrs:{for:"name"}},[t._v("Фамилия")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"name",name:"lastName",required:""},domProps:{value:this.client_item.lastName}}),a("label",{attrs:{for:"name"}},[t._v("Имя")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"name",name:"firstName",required:""},domProps:{value:this.client_item.firstName}}),a("label",{attrs:{for:"name"}},[t._v("Отчество")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"name",name:"middleName",required:""},domProps:{value:this.client_item.middleName}})]),a("div",{staticClass:"registr-block__input"},[a("label",{attrs:{for:"email"}},[t._v("Электронная почта")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"email",name:"email",required:""},domProps:{value:this.client_item.email}})]),a("div",{staticClass:"registr-block__input"},[a("label",{attrs:{for:"phone"}},[t._v("Телефон")]),a("input",{directives:[{name:"phone",rawName:"v-phone"}],staticClass:"text-input",attrs:{type:"tel",id:"phonefooter",name:"contactPhone",placeholder:"8(___)-___-____",required:"",maxlength:"15"},domProps:{value:this.client_item.contactPhone}})])]),a("div",{staticClass:"registr-block__put-pass-data"},[a("p",{staticClass:"mini-title"},[t._v("Паспортные данные гражданина РФ")]),a("div",{staticClass:"registr-block__passport"},[a("div",{staticClass:"passport"},[a("div",{staticClass:"passport__block margin"},[a("label",{attrs:{for:"passportSerial"}},[t._v("Серия:")]),a("input",{staticClass:"seria-input seria",attrs:{maxlength:"4",placeholder:"xxxx",passportData:"",name:"passportSerial"},domProps:{value:this.client_item.passportData.passportSerial}})]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"passportNumber"}},[t._v("Номер:")]),a("input",{staticClass:"seria-input pass",attrs:{maxlength:"6",placeholder:"xxxxxx",name:"passportNumber"},domProps:{value:this.client_item.passportData.passportNumber}})])]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"birthDate"}},[t._v("Дата рождения")]),a("input",{staticClass:"text-input-putdata",attrs:{type:"date",id:"start",name:"birthDate",placeholder:"дд.мм.гггг"},domProps:{value:this.client_item.passportData.birthDate}})])]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"registrationAddress"}},[t._v("Адрес Регистрации:")]),a("input",{staticClass:"text-input",attrs:{name:"registrationAddress"},domProps:{value:this.client_item.passportData.registrationAddress}}),a("label",{attrs:{for:"registrationAddress"}},[t._v("Адрес Фактического проживания:")]),a("input",{staticClass:"text-input",attrs:{name:"placeOfResidence"},domProps:{value:this.client_item.placeOfResidence}}),a("label",{attrs:{for:"passportPlaceOfIssue"}},[t._v("Кем выдан документ:")]),a("input",{staticClass:"text-input",attrs:{name:"passportPlaceOfIssue",placeholder:"Наименование подразделения"},domProps:{value:this.client_item.passportData.passportPlaceOfIssue}})]),a("div",{staticClass:"passport__block2"},[a("div",{staticClass:"passport__block-put"},[a("label",{attrs:{for:"departmentCode"}},[t._v("Код подразделения:")]),a("input",{staticClass:"seria-input kod",attrs:{maxlength:"6",placeholder:"xxxxxx",name:"departmentCode"},domProps:{value:this.client_item.passportData.departmentCode}})]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"passportDateOfIssue"}},[t._v("Дата выдачи документа:")]),a("input",{staticClass:"text-input-putdata",attrs:{type:"date",id:"start",name:"passportDateOfIssue",placeholder:"дд.мм.гггг"},domProps:{value:this.client_item.passportData.passportDateOfIssue}})])])]),this.client_item.confidantData?a("div",{staticClass:"register-trustee"},[a("div",{staticClass:"register-trustee__title",on:{click:function(e){t.isActiveBlock=!t.isActiveBlock}}},[a("svg",{staticClass:"svg-inline--fa fa-plus-square fa-w-14",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus-square",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[a("path",{attrs:{fill:"black",d:"M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"}})]),a("p",{staticClass:"mini-title"},[t._v("Доверительное лицо")])]),!0===t.isActiveBlock?a("div",{staticClass:"register-trustee__block"},[a("div",{staticClass:"registr-block__input-confidant"},[a("div",{staticClass:"registr-block__wrap"},[a("label",{attrs:{for:"confidantLastName"}},[t._v("Имя")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"confidantLastName",name:"confidantLastName",required:""},domProps:{value:this.client_item.confidantData.lastName}})]),a("div",{staticClass:"registr-block__wrap"},[a("label",{attrs:{for:"confidantFirstName"}},[t._v("Фамилия")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"confidantFirstName",name:"confidantFirstName",required:""},domProps:{value:this.client_item.confidantData.firstName}})]),a("div",{staticClass:"registr-block__wrap"},[a("label",{attrs:{for:"confidantMiddleName"}},[t._v("Отчество")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"confidantMiddleName",name:"confidantMiddleName",required:""},domProps:{value:this.client_item.confidantData.middleName}})])]),a("div",{staticClass:"registr-block__input-confidant"},[a("div",{staticClass:"registr-block__wrap"},[a("label",{attrs:{for:"confidantPhone"}},[t._v("Телефон:")]),a("input",{directives:[{name:"phone",rawName:"v-phone"}],staticClass:"text-input",attrs:{type:"tel",id:"phonefooter",name:"confidantPhone",placeholder:"8(___)___-____",required:"",maxlength:"14"},domProps:{value:this.client_item.confidantData.phone}})]),a("div",{staticClass:"registr-block__wrap"},[t._m(0),a("div",{staticClass:"select"},[a("select",{staticClass:"text-input",attrs:{id:"standard-select",name:"relationship",required:""},domProps:{value:this.client_item.confidantData.relationship}},[a("option",{attrs:{value:"Мать"}},[t._v("Мать")]),a("option",{attrs:{value:"Отец"}},[t._v("Отец")]),a("option",{attrs:{value:"Сестра"}},[t._v("Сестра")]),a("option",{attrs:{value:"Брат"}},[t._v("Брат")]),a("option",{attrs:{value:"Друг"}},[t._v("Друг")]),a("option",{attrs:{value:"Другое"}},[t._v("Другое")])])])])])]):t._e()]):t._e(),t._m(1)])])},ye=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label-error-confidant"},[a("label",{attrs:{for:"relationship"}},[t._v("Кем приходится:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"registr-block__button"},[a("button",{staticClass:"button btn-neutral",attrs:{type:"submit"}},[t._v(" Редактировать данные ")])])}],Ie={name:"AppPutClientItem",data:function(){return{putData:[],items:{},passportData:{},isActiveBlock:!1}},props:{client_item:{type:Object,default:function(){return{}}}},components:{},methods:{putContact:function(){var t=document.forms,e=new FormData(t[1]);this.putData=[];var a,s=Object(D["a"])(e);try{for(s.s();!(a=s.n()).done;){var i=Object(N["a"])(a.value,2),n=i[0],r=i[1];this.putData=Object(w["a"])(Object(w["a"])({},this.putData),{},Object(o["a"])({},n,r))}}catch(l){s.e(l)}finally{s.f()}console.log(this.putData),this.validFirstBlock()},submit:function(){var t=this;this.$store.dispatch(q.PutContactItem,this.items).then((function(){t.$emit("changeData")})).catch((function(t){console.log("Ошибка",t)}))},validFirstBlock:function(){this.passportData={registrationAddress:this.putData.registrationAddress,passportPlaceOfIssue:this.putData.passportPlaceOfIssue,departmentCode:this.putData.departmentCode,passportDateOfIssue:this.putData.passportDateOfIssue,passportSerial:this.putData.passportSerial,passportNumber:this.putData.passportNumber,birthDate:this.putData.birthDate},this.putData.confidantFirstName&&this.putData.confidantLastName&&this.putData.confidantMiddleName&&this.putData.confidantPhone&&this.putData.relationship?this.confidantData={confidantFirstName:this.putData.confidantFirstName,confidantLastName:this.putData.confidantLastName,confidantMiddleName:this.putData.confidantMiddleName,confidantPhone:this.putData.confidantPhone,relationship:this.putData.relationship}:this.confidantData=null,this.items={id:this.client_item.id,lastName:this.putData.lastName,firstName:this.putData.firstName,middleName:this.putData.middleName,email:this.putData.email,contactPhone:this.putData.contactPhone,placeOfResidence:this.putData.placeOfResidence,passportData:this.passportData,confidantData:this.confidantData},this.submit()}}},Ae=Ie,Le=Object(J["a"])(Ae,De,ye,!1,null,null,null),je=Le.exports,We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"blocks-weapon"},[a("div",{staticClass:"blocks-weapon__wrap"},[a("div",{staticClass:"blocks-weapon__title",on:{click:function(e){t.isActiveBlock=!t.isActiveBlock}}},[a("div",{staticClass:"blocks-weapon__block"},[t.isActiveBlock?t._e():a("svg",{staticClass:"svg-inline--fa fa-plus-square fa-w-14",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus-square",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[a("path",{attrs:{fill:"white",d:"M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"}})]),t.isActiveBlock?a("svg",{staticClass:"svg-inline--fa fa-minus-square fa-w-14",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"minus-square",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[a("path",{attrs:{fill:"white",d:"M108 284c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h232c6.6 0 12 5.4 12 12v32c0 6.6-5.4 12-12 12H108zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"}})]):t._e(),a("p",{staticClass:"blocks-weapon__title-serial"},[t._v(" Серийный номер: "),a("span",[t._v(" "+t._s(this.weapon_item.serial))])])]),a("div",{staticClass:"blocks-weapon__block1"},[a("p",{staticClass:"blocks-weapon__title-name"},[t._v(" "+t._s(this.weapon_item.weapon.weaponName)+" ")])])])]),!0===t.isActiveBlock?a("div",{},[a("div",{staticClass:"blocks-weapon__info"},[a("p",{staticClass:"info-title"},[t._v("Информация о блоке")]),(0===this.weapon_item.mode?this.mode="Сейф":1==this.weapon_item.mode?this.mode="Tранспортировка":2==this.weapon_item.mode?this.mode="Сервис":3==this.weapon_item.mode?this.mode="Использование":4==this.weapon_item.mode?this.mode="Аir mode":10==this.weapon_item.mode&&(this.mode="Новое устройство"))?a("p",{staticClass:"info-name"},[t._v(" Режим блока: "),a("span",[t._v(t._s(this.mode))])]):t._e(),a("p",{staticClass:"info-name"},[t._v(" Идентификатор WI-FI сети: "),a("span",[t._v(t._s(this.weapon_item.imei))])])]),a("div",{staticClass:"blocks-weapon__info"},[a("p",{staticClass:"info-title"},[t._v("Информация об оружии")]),this.weapon_item.weapon.placeOfPurchase?a("p",{staticClass:"info-name"},[t._v(" Место покупки: "),a("span",[t._v(t._s(this.weapon_item.weapon.placeOfPurchase))])]):t._e(),this.weapon_item.weapon.storage?a("p",{staticClass:"info-name"},[t._v(" Адрес хранения оружия: "),a("span",[t._v(t._s(this.weapon_item.weapon.storage))])]):t._e(),this.weapon_item.weapon.weaponName?a("p",{staticClass:"info-name"},[t._v(" Название оружия: "),a("span",[t._v(t._s(this.weapon_item.weapon.weaponName))])]):t._e(),this.weapon_item.weapon.type?a("p",{staticClass:"info-name"},[t._v(" Тип оружия: "),a("span",[t._v(t._s(this.weapon_item.weapon.type))])]):t._e(),this.weapon_item.weapon.manufacture?a("p",{staticClass:"info-name"},[t._v(" Производитель: "),a("span",[t._v(t._s(this.weapon_item.weapon.manufacture))])]):t._e(),this.weapon_item.weapon.caliber?a("p",{staticClass:"info-name"},[t._v(" Калибр: "),a("span",[t._v(t._s(this.weapon_item.weapon.caliber))])]):t._e(),this.weapon_item.weapon.gost?a("p",{staticClass:"info-name"},[t._v(" ГОСТ: "),a("span",[t._v(t._s(this.weapon_item.weapon.gost))])]):t._e(),this.weapon_item.weapon.chamber_length?a("p",{staticClass:"info-name"},[t._v(" Длина патронника: "),a("span",[t._v(t._s(this.weapon_item.weapon.chamber_length))])]):t._e(),this.weapon_item.weapon.barrel_length?a("p",{staticClass:"info-name"},[t._v(" Длина ствола: "),a("span",[t._v(t._s(this.weapon_item.weapon.barrel_length))])]):t._e(),this.weapon_item.weapon.capacity?a("p",{staticClass:"info-name"},[t._v(" Ёмкость магазина: "),a("span",[t._v(t._s(this.weapon_item.weapon.capacity))])]):t._e(),this.weapon_item.weapon.dimensions?a("p",{staticClass:"info-name"},[t._v(" Габариты: "),a("span",[t._v(t._s(this.weapon_item.weapon.dimensions))])]):t._e(),this.weapon_item.weapon.muzzle?a("p",{staticClass:"info-name"},[t._v(" Дуло: "),a("span",[t._v(t._s(this.weapon_item.weapon.muzzle))])]):t._e(),this.weapon_item.weapon.muzzle_energy?a("p",{staticClass:"info-name"},[t._v(" Дульная энергия: "),a("span",[t._v(t._s(this.weapon_item.weapon.muzzle_energy))])]):t._e(),this.weapon_item.weapon.weight?a("p",{staticClass:"info-name"},[t._v(" Вес: "),a("span",[t._v(t._s(this.weapon_item.weapon.weight))])]):t._e(),this.weapon_item.weapon.extra_info?a("p",{staticClass:"info-name"},[t._v(" Дополнительная информация: "),a("span",[t._v(t._s(this.weapon_item.weapon.extra_info))])]):t._e()]),a("button",{staticClass:"button btn-block",attrs:{type:"button"},on:{click:t.deleteBlock}},[t._v(" Удалить блок ")])]):t._e()])},Ee=[],Fe={name:"AppBlocksWeapon",data:function(){return{mode:"",isActiveBlock:!1}},props:{weapon_item:{type:Object,default:function(){return{}}}},methods:{deleteBlock:function(){this.$emit("deleteBlock",this.weapon_item.serial)}}},Be=Fe,Ue=Object(J["a"])(Be,We,Ee,!1,null,null,null),Me=Ue.exports,qe={name:"AppClient",data:function(){return{search:"",phone:"",select:"phone",title:"Клиенты"}},components:{ItemClients:Ne,PutItemClient:je,BlocksWeapon:Me},computed:Object(w["a"])({},Object(T["b"])({allClients:function(t){return t.clients.allClients},isLoading:function(t){return t.clients.isLoading},validationErrors:function(t){return t.clients.validationErrors},confirm:function(t){return t.clients.confirm},statusActivation:function(t){return t.register.statusActivation}})),methods:{onChange:function(){this.$store.dispatch(_e.getSearchClient,this.search).then((function(){})).catch((function(t){console.log(t)}))},searchPhone:function(){this.$store.dispatch(_e.getSearchPhoneClient,this.phone).then((function(){})).catch((function(t){console.log(t)}))},addToBlock:function(){this.$router.push({name:"addBlock"})},deleteBlock:function(t){var e=this,a={userId:this.allClients.id,serial:t};this.$store.dispatch(_e.deleteWeaponClient,a).then((function(){e.$store.dispatch(_e.getSearchPhoneClient,e.allClients.contactPhone)})).catch((function(t){console.log(t)}))},changeData:function(){this.$store.dispatch(_e.getSearchPhoneClient,this.allClients.contactPhone).then((function(){})).catch((function(t){console.log(t)}))}},beforeMount:function(){document.title=this.title},beforeUpdate:function(){document.title=this.title},mounted:function(){this.allClients&&this.changeData()}},ze=qe,Re=Object(J["a"])(ze,se,ie,!1,null,null,null),He=Re.exports,Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t.isLoading?a("div",{staticClass:"holder"},[t._m(0)]):t._e(),this.statusActivation?a("div",{staticClass:"order-ready"},[a("svg",{staticClass:"svg-inline--fa fa-check-circle fa-w-16 order-ready__svg",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[a("path",{attrs:{fill:"green",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}})]),a("div",{staticClass:"order-ready__info"},[a("p",{staticClass:"order-ready__info-first"},[t._v("Регистрация пройдена успешно.")]),a("p",{staticClass:"order-ready__info-second"},[t._v(" Ваш серийный номер для поиска: "+t._s(this.statusActivation.data.result)+" ")])]),t._m(1),a("div",{staticClass:"breadcrumbs-ready"},[a("router-link",{attrs:{to:"/"}},[t._v("На главную")])],1)]):t._e()])},Ve=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"preloader"},[a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-ready__thank"},[a("p",[t._v("Спасибо!")])])}],Xe={name:"AppRegisterReady",data:function(){return{title:"Регистрация"}},computed:Object(w["a"])({},Object(T["b"])({statusActivation:function(t){return t.register.statusActivation},isLoading:function(t){return t.register.isLoading}})),beforeMount:function(){document.title=this.title},beforeUpdate:function(){document.title=this.title}},Je=Xe,Ge=Object(J["a"])(Je,Te,Ve,!1,null,null,null),Ye=Ge.exports,Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t.isLoading?a("div",{staticClass:"holder"},[t._m(0)]):t._e(),this.statusActivation?a("div",{staticClass:"order-ready"},[a("svg",{staticClass:"svg-inline--fa fa-check-circle fa-w-16 order-ready__svg",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[a("path",{attrs:{fill:"green",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}})]),a("div",{staticClass:"order-ready__info"},[a("p",{staticClass:"order-ready__info-first"},[t._v("Регистрация пройдена успешно.")]),a("p",{staticClass:"order-ready__info-second"},[t._v(" Ваш серийный номер для поиска: "+t._s(this.statusActivation.data.result)+" ")])]),t._m(1),a("div",{staticClass:"breadcrumbs-ready"},[a("router-link",{attrs:{to:"/clients",replace:""}},[t._v("Вернуться")])],1)]):t._e()])},Qe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"preloader"},[a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-ready__thank"},[a("p",[t._v("Спасибо!")])])}],Ze={name:"AppAddRegisterReady",data:function(){return{title:"Регистация блока"}},computed:Object(w["a"])({},Object(T["b"])({isLoading:function(t){return t.register.isLoading},statusActivation:function(t){return t.register.statusActivation}})),beforeMount:function(){document.title=this.title},beforeUpdate:function(){document.title=this.title}},ta=Ze,ea=Object(J["a"])(ta,Ke,Qe,!1,null,null,null),aa=ea.exports,sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"registr"},[a("div",{staticClass:"container"},[t._m(0),a("div",{},[a("form",{staticClass:"registr-form"},[a("div",{staticClass:"registr-form__row"},[a("ul",{attrs:{id:"progressbar-block"}},[a("li",{staticClass:"active",attrs:{id:"choice-weapons"},on:{click:function(e){return t.switchTabsClass("block")}}},[t._v(" Ввод данных об оружии ")]),a("li",{attrs:{id:"active-block"},on:{click:function(e){return t.switchTabsClass("post")}}},[t._v(" Активация блока ")])]),a("div",{staticClass:"registr-form__column"},[t.isPostActive?a("div",{staticClass:"registr-form__wrap",attrs:{"data-tab":"block",id:"titletwo"}},[a("ChoiceOfWeapon",{on:{changeSecondBlock:t.changeSecondBlock}})],1):t._e(),a("div",{staticClass:"order-wrap2",attrs:{"data-tab":"pay",id:"titlethee"}},[t.isPayActive?a("div",{staticClass:"order-pay"},[a("NewActiveBlock")],1):t._e()])])])])])])])},ia=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"registr_title"},[a("h1",[t._v("Добавление нового блока")])])}],na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"active-block"},[a("p",{staticClass:"mini-title"},[t._v("Активация блока")]),a("div",{staticClass:"active-block-input"},["FAIL"===this.validationErrors?a("div",{staticClass:"active-block-error__fail"},[a("p",{staticClass:"active-block-error__error-input"},[t._v(" Извините, попробуйте позже! ")])]):t._e(),a("label",{attrs:{for:"active"}},[t._v("Введите серийный номер блока:")]),this.statusActivation?a("div",{staticClass:"active-block-error"},["FAIL"===this.statusActivation.data.status?a("div",{staticClass:"active-block-error__fail"},[a("p",{staticClass:"active-block-error__error-input"},[t._v(" "+t._s(this.statusActivation.data.message)+" ")])]):t._e()]):t._e(),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.serial.$model,expression:"$v.serial.$model",modifiers:{trim:!0}}],staticClass:"seria-input serial",attrs:{maxlength:"14",placeholder:"xxxxxxxxxxxxxx"},domProps:{value:t.$v.serial.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.serial,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.isLoading?a("div",{staticClass:"loader"},[a("p",{staticClass:"loader-title"},[t._v("Loading...")]),t._m(0)]):t._e(),a("div",{staticClass:"registr-block__button"},[a("button",{staticClass:"button btn-primary",attrs:{type:"button",disabled:!0===t.isLoading},on:{click:function(e){return t.active()}}},[t._v(" Активировать ")])])])])},oa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"clock"}),a("div",{staticClass:"clock"})])}],ra={name:"AppActiveBlock",data:function(){return{activeBlock:{},serial:"",passport_id:""}},validations:{serial:{minLength:Object(x["minLength"])(14),maxLength:Object(x["maxLength"])(14),required:x["required"]}},computed:Object(w["a"])({},Object(T["b"])({allClients:function(t){return t.clients.allClients},getWeaponItem:function(t){return t.register.getWeaponItem},getStorageItem:function(t){return t.register.getStorageItem},isLoading:function(t){return t.register.isLoading},statusActivation:function(t){return t.register.statusActivation},validationErrors:function(t){return t.register.validationErrors}})),methods:{active:function(){this.activeBlock={passportSerial:this.allClients.passportData.passportSerial,passportNumber:this.allClients.passportData.passportNumber,serial:this.serial,weaponId:this.getWeaponItem.id,storageData:this.getStorageItem},this.$store.dispatch(q.getSerial,this.activeBlock).then((function(t){"SUCCESS"===t.status&&xa.push({name:"success-add"})})).catch((function(t){console.log("Ошибка",t)}))},seri:function(){v.put("http://90.189.217.244:9016/api/1/unit/activate",null,{params:{serial:this.serial}}).then((function(t){console.log(t),console.log("SUCCESS!!")})).catch((function(t){console.log(t,"FAILURE!!")}))},success:function(){}}},la=ra,ca=Object(J["a"])(la,na,oa,!1,null,null,null),ua=ca.exports,da={data:function(){return{title:"Регистация блока",isPostActive:!0,isPayActive:!1,isButtonDisabled:!1}},components:{ChoiceOfWeapon:jt,NewActiveBlock:ua},computed:Object(w["a"])({},Object(T["b"])({isAuthenticated:function(t){return t.auth.isAuthenticated},token:function(t){return t.auth.token},allClients:function(t){return t.clients.allClients},getWeaponItem:function(t){return t.register.getWeaponItem}})),methods:{changeFirstBlock:function(){this.switchTabsClass("block")},changeSecondBlock:function(){this.switchTabsClass("post")},switchTabsClass:function(t){if("block"===t){if(null!=this.allClients){this.isBlockActive=!1,this.isPostActive=!0,this.isPayActive=!1;var e=document.getElementById("choice-weapons");e.classList.add("active")}}else if("post"===t){if(0!=this.getWeaponItem.length){this.isBlockActive=!1,this.isPostActive=!1,this.isPayActive=!0;var a=document.getElementById("active-block");a.classList.add("active")}}else this.isBlockActive=!0,this.isPostActive=!1,this.isPayActive=!1}},beforeMount:function(){document.title=this.title},beforeUpdate:function(){document.title=this.title}},pa=da,ma=Object(J["a"])(pa,sa,ia,!1,null,null,null),ha=ma.exports,va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container error"},[a("div",{staticClass:"row"},[a("div",{staticClass:"df"},[a("p",{staticClass:"title"},[t._v("404")]),a("p",{staticClass:"mini-title"},[t._v("UH OH! You're lost.")]),a("p",[t._v(" The page you are looking for does not exist. How you got here is a mystery. But you can click the button below to go back to the homepage. ")]),a("router-link",{attrs:{to:{name:"Registration"}}},[a("button",{staticClass:"btn green"},[t._v("HOME")])])],1)])])},fa=[],_a={name:"AppErrors"},ga=_a,Ca=Object(J["a"])(ga,va,fa,!1,null,null,null),ba=Ca.exports;s["a"].use(g["a"]);var wa,$a,Sa=[{path:"/",name:"Registration",component:Ht,meta:{Auth:!0}},{path:"/login",name:"login",component:ae,meta:{Auth:!1}},{path:"/clients",name:"clients",component:He,meta:{Auth:!0}},{path:"/add-block",name:"addBlock",component:ha,meta:{Auth:!0}},{path:"/success",name:"success",component:Ye,meta:{Auth:!0}},{path:"/success-add",name:"success-add",component:aa,meta:{Auth:!0}},{path:"/*",component:ba}],ka=new g["a"]({mode:"history",base:"/",routes:Sa}),xa=ka,Pa={isSubmitting:!1,isLoading:!1,token:localStorage.getItem("accessTokenStore")||"",isAuthenticated:!1,validationErrors:null},Oa={loginStart:"[auth] loginStart",loginSuccess:"[auth] loginSuccess",loginFailure:"[auth] loginFailure",exitLoginSuccess:"[auth] exit success"},Na={login:"[auth] login",exitLogin:"[auth] exit"},Da=(wa={},Object(o["a"])(wa,Oa.loginStart,(function(t){t.isSubmitting=!0,t.isAuthenticated=!1,t.validationErrors=null})),Object(o["a"])(wa,Oa.loginSuccess,(function(t,e){t.isSubmitting=!1,t.isAuthenticated=!0,t.token=e,t.isLoggedIn=!0})),Object(o["a"])(wa,Oa.loginFailure,(function(t,e){t.isSubmitting=!1,t.isAuthenticated=!1,t.validationErrors=e})),Object(o["a"])(wa,Oa.exitLoginSuccess,(function(t){t.isSubmitting=!1,t.token="",t.isAuthenticated=!0})),wa),ya=($a={},Object(o["a"])($a,Na.exitLogin,(function(t){t.commit(Oa.exitLoginSuccess),localStorage.removeItem("accessTokenStore"),delete l.a.defaults.headers.common["Authorization"],localStorage.removeItem("statusActivation"),localStorage.removeItem("currentUser"),localStorage.removeItem("currentWepon"),localStorage.removeItem("allClients"),xa.push({name:"login"})})),Object(o["a"])($a,Na.login,(function(t,e){return new Promise((function(a){t.commit(Oa.loginStart),_.login(e).then((function(e){if("SUCCESS"===e.data.status){var s=e.data.result.token;window.localStorage.setItem("accessTokenStore",e.data.token),u("accessTokenStore",e.data.result.token),t.commit(Oa.loginSuccess,s)}else t.commit(Oa.loginFailure,e.data),localStorage.removeItem("accessTokenStore");a(e.data)})).catch((function(t){console.log("ошибка",t)}))}))})),$a),Ia={state:Pa,mutations:Da,actions:ya},Aa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[s("div",{staticClass:"container"},[s("div",{staticClass:"header"},[s("div",{staticClass:"header__logo"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:a("beef"),alt:""}})])],1),s("nav",{staticClass:"header__nav"},[s("ul",{staticClass:"header__nav-list",attrs:{id:"msgText"}},[s("router-link",{attrs:{to:"/"}},[s("li",{staticClass:"header__nav-item"},[t._v("Регистрация")])]),s("router-link",{attrs:{to:"/clients"}},[s("li",{staticClass:"header__nav-item"},[t._v("Клиенты")])])],1)]),s("div",{staticClass:"header__exit",on:{click:function(e){t.showModal=!0}}},[s("svg",{staticClass:"svg-inline--fa fa-sign-out-alt fa-w-16",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sign-out-alt",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[s("path",{attrs:{fill:"black",d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}})]),s("span",{staticClass:"md-title",staticStyle:{cursor:"pointer"}},[t._v("Выход")])])])]),t.showModal?s("Modal",{on:{close:function(e){t.showModal=!1}}}):t._e()],1)},La=[],ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"},on:{click:function(e){return t.$emit("close")}}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[a("h1",{staticClass:"modal__title"},[t._v("Подтвердите действие!")]),t._t("header",(function(){return[a("p",[t._v("Вы действительно хотите выйти?")])]}))],2),a("div",{staticClass:"modal-body"},[a("input",{staticClass:"modal__btn",attrs:{type:"button",value:"Да"},on:{click:function(e){return t.submit()}}}),a("input",{staticClass:"modal__btn",attrs:{type:"button",value:"НЕТ"},on:{click:function(e){return t.$emit("close")}}})]),a("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])])},Wa=[],Ea={name:"AppModalExir",props:{},methods:{submit:function(){this.$store.dispatch(Na.exitLogin).then((function(){})).catch((function(t){console.log("Ошибка",t)}))}}},Fa=Ea,Ba=Object(J["a"])(Fa,ja,Wa,!1,null,null,null),Ua=Ba.exports,Ma={name:"AppHeader",data:function(){return{showModal:!1}},components:{Modal:Ua}},qa=Ma,za=Object(J["a"])(qa,Aa,La,!1,null,null,null),Ra=za.exports,Ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"footer"})},Ta=[],Va={name:"AppFooter"},Xa=Va,Ja=Object(J["a"])(Xa,Ha,Ta,!1,null,null,null),Ga=Ja.exports,Ya={name:"App",components:{Footer:Ga,Header:Ra},created:function(){l.a.interceptors.response.use(void 0,(function(t){return new Promise((function(e,a){throw 401===t.status&&t.config&&!t.config.__isRetryRequest&&this.$store.dispatch(Na.exitLogin),t}))}))}},Ka=Ya,Qa=(a("034f"),Object(J["a"])(Ka,i,n,!1,null,null,null)),Za=Qa.exports;s["a"].use(T["a"]);var ts=new T["a"].Store({state:{},mutations:{},actions:{},modules:{auth:Ia,register:H,clients:be}}),es=(a("78a7"),a("1dce")),as=a.n(es);s["a"].use(as.a),s["a"].config.productionTip=!1,s["a"].directive("phone",{bind:function(t){function e(t){var e="",a=t.replace(/\D/g,"").match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,4})/);return e=a[2]||""===a[1]?a[3]?a[1]+"("+a[2]+")"+a[3]+(a[4]?"-"+a[4]:""):a[1]+a[2]:"8"===a[1]?a[1]:"8"+a[1],e}function a(t){var a=t.replace(/\D/g,""),s=a;return"8"===s.charAt(0)&&(s="8"+s.slice(1)),e(s)}t.oninput=function(t){t.isTrusted&&(this.value=e(this.value))},t.onpaste=function(){var e=this;setTimeout((function(){var s=t.value;e.value=a(s)}))}}}),new s["a"]({router:xa,store:ts,render:function(t){return t(Za)}}).$mount("#app")},"78a7":function(t,e,a){},"85ec":function(t,e,a){},beef:function(t,e,a){t.exports=a.p+"img/logo-png.4fbb3499.png"},f833:function(t,e,a){t.exports=a.p+"img/logo-auth.c061de04.png"}});
//# sourceMappingURL=app.c867c297.js.map