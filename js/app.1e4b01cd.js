(function(t){function e(e){for(var s,o,r=e[0],c=e[1],l=e[2],d=0,p=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},i={app:0},n=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"100c":function(t,e,a){t.exports=a.p+"img/user-avatar-reg.b12dfed8.png"},"249a":function(t,e,a){t.exports=a.p+"img/search-icon.807df2b0.png"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("ac1f"),a("466d"),a("5319"),a("fb6a");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.$route.meta.Auth?a("Header"):t._e(),a("router-view"),a("Footer")],1)},n=[],o=(a("d3b7"),a("ade3")),r=a("bc3a"),c=a.n(r),l=function(t){try{return JSON.parse(localStorage.getItem(t))}catch(e){return console.log("Error getting data from localStorage",e),null}},u=function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(a){console.log("Error saving data from localStorage",a)}};c.a.defaults.baseURL="http://90.189.217.244:9016",c.a.interceptors.request.use((function(t){var e=l("accessTokenStore"),a=e?"".concat(e):"";return""===a||(t.headers.Authorization=a),t}));var d,p,m,h,v=c.a,f=function(t){return v.post("/api/1/login",t,{useCredentails:!0})},_={login:f},g=a("8c4f"),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"registr"},[t.isLoading?a("div",{staticClass:"holder"},[t._m(0)]):t._e(),a("div",{staticClass:"container"},[t._m(1),a("div",{},[a("form",{staticClass:"registr-form"},[a("div",{staticClass:"registr-form__row"},[a("ul",{attrs:{id:"progressbar"}},[a("li",{staticClass:"active",on:{click:function(e){return t.switchTabsClass("contact")}}},[t._v(" Регистрация пользователя ")]),a("li",{class:{notactive:null===this.currentUser},attrs:{id:"choice-weapons"},on:{click:function(e){return t.switchTabsClass("block")}}},[t._v(" Ввод данных об оружии ")]),a("li",{class:{notactive:null===this.getWeaponItem},attrs:{id:"active-block"},on:{click:function(e){return t.switchTabsClass("post")}}},[t._v(" Активация блока ")])]),a("div",{staticClass:"registr-form__column"},[t.isBlockActive?a("div",{staticClass:"registr-form__wrap",attrs:{"data-tab":"contact"}},[a("ContactInfo",{on:{validFirstBlock:t.changeFirstBlock}})],1):t._e(),t.isPostActive?a("div",{staticClass:"registr-form__wrap",attrs:{"data-tab":"block",id:"titletwo"}},[a("ChoiceOfWeapon",{on:{changeSecondBlock:t.changeSecondBlock}})],1):t._e(),a("div",{staticClass:"order-wrap2",attrs:{"data-tab":"pay",id:"titlethee"}},[t.isPayActive?a("div",{staticClass:"order-pay"},[a("ActiveBlock")],1):t._e()])])])])])])])},b=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"preloader"},[a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"registr_title"},[a("h1",[t._v("Регистрация пользователя")])])}],w=a("5530"),$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"registr-block"},[a("div",{staticClass:"registr-block__wrap"},[null===this.currentUser?a("div",{staticClass:"first-succsess-blok"},[a("div",{staticClass:"registr-block__first"},[a("p",{staticClass:"mini-title"},[t._v("Контактная информация")]),this.contact?a("div",{},["FAIL"===this.contact.data.status?a("p",{staticClass:"error-input"},[t._v(" "+t._s(this.contact.data.message)+" ")]):t._e()]):t._e(),a("div",{staticClass:"registr-block__input"},[a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"name"}},[t._v("Фамилия")]),t.$v.lastName.alpha?t._e():a("p",{staticClass:"error-input"},[t._v(" *Фамилия должна содержать только кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.lastName.$model,expression:"$v.lastName.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.lastName.$error},attrs:{type:"text",id:"name",required:""},domProps:{value:t.$v.lastName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.lastName,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"name"}},[t._v("Имя")]),t.$v.firstName.alpha?t._e():a("p",{staticClass:"error-input"},[t._v(" *Имя должно содержать только кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.firstName.$model,expression:"$v.firstName.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.firstName.$error},attrs:{type:"text",id:"name",required:""},domProps:{value:t.$v.firstName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.firstName,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"name"}},[t._v("Отчество")]),t.$v.middleName.alpha?t._e():a("p",{staticClass:"error-input"},[t._v(" *Отчество должно содержать только кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.middleName.$model,expression:"$v.middleName.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.middleName.$error},attrs:{type:"text",id:"name",required:""},domProps:{value:t.$v.middleName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.middleName,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"registr-block__input"},[a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"email"}},[t._v("Электронная почта")]),t.$v.email.email?t._e():a("p",{staticClass:"error-input"},[t._v(" *Введите корректные данные ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.email.$model,expression:"$v.email.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.email.$error},attrs:{type:"text",id:"email",required:""},domProps:{value:t.$v.email.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.email,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"registr-block__input"},[a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"phone"}},[t._v("Телефон")]),t.$v.phone.minLength?t._e():a("p",{staticClass:"error-input"},[t._v(" *Телефон имеет формат 8(XXX)XXX-XX-XX ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.phone.$model,expression:"$v.phone.$model",modifiers:{trim:!0}},{name:"phone",rawName:"v-phone"}],staticClass:"text-input",class:{"error-valid":t.$v.phone.$error},attrs:{type:"tel",id:"phonefooter",name:"confidantPhon",placeholder:"8(___)___-____",maxlength:"14",required:""},domProps:{value:t.$v.phone.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.phone,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"registr-block__pass-data"},[a("p",{staticClass:"mini-title"},[t._v("Паспортные данные гражданина РФ")]),a("div",{staticClass:"registr-block__passport"},[a("div",{staticClass:"passport"},[a("div",{staticClass:"passport__block margin"},[a("label",{attrs:{for:"passportSerial"}},[t._v("Серия:")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.passportSerial.$model,expression:"$v.passportSerial.$model",modifiers:{trim:!0}}],staticClass:"seria-input seria",class:{"error-valid":t.$v.passportSerial.$error},attrs:{maxlength:"4",placeholder:"xxxx"},domProps:{value:t.$v.passportSerial.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.passportSerial,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"passportNumber"}},[t._v("Номер:")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.passportNumber.$model,expression:"$v.passportNumber.$model",modifiers:{trim:!0}}],staticClass:"seria-input pass",class:{"error-valid":t.$v.passportNumber.$error},attrs:{maxlength:"6",placeholder:"xxxxxx"},domProps:{value:t.$v.passportNumber.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.passportNumber,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"birthDate"}},[t._v("Дата рождения:")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.birthDate.$model,expression:"$v.birthDate.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.birthDate.$error},attrs:{type:"date",id:"start",min:"1900-01-01",placeholder:"дд.мм.гггг"},domProps:{value:t.$v.birthDate.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.birthDate,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"passport__block"},[a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"registrationAddress"}},[t._v("Адрес Регистрации:")]),t.$v.registrationAddress.alpha?t._e():a("p",{staticClass:"error-input"},[t._v(" *Адрес регистрации должен содержать только кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.registrationAddress.$model,expression:"$v.registrationAddress.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.registrationAddress.$error},domProps:{value:t.$v.registrationAddress.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.registrationAddress,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"registrationAddress"}},[t._v("Адрес Фактического проживания:")]),t.$v.placeOfResidence.alpha?t._e():a("p",{staticClass:"error-input"},[t._v(" *Адрес проживания должен содержать только кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.placeOfResidence.$model,expression:"$v.placeOfResidence.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.placeOfResidence.$error},domProps:{value:t.$v.placeOfResidence.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.placeOfResidence,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"passportPlaceOfIssue"}},[t._v("Кем выдан документ:")]),t.$v.passportPlaceOfIssue.alpha?t._e():a("p",{staticClass:"error-input"},[t._v(" *Должено содержать только кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.passportPlaceOfIssue.$model,expression:"$v.passportPlaceOfIssue.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.passportPlaceOfIssue.$error},attrs:{placeholder:"Наименование подразделения"},domProps:{value:t.$v.passportPlaceOfIssue.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.passportPlaceOfIssue,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"passport__block2"},[a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:" passportCode"}},[t._v("Код подразделения:")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.passportCode.$model,expression:"$v.passportCode.$model",modifiers:{trim:!0}}],staticClass:"seria-input kod",class:{"error-valid":t.$v.passportCode.$error},attrs:{maxlength:"6",placeholder:"xxxxxx"},domProps:{value:t.$v.passportCode.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.passportCode,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"passport__block"},[a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"passportDateOfIssue"}},[t._v("Дата выдачи документа:")]),t.$v.passportDateOfIssue.maxValue?t._e():a("p",{staticClass:"error-input"},[t._v(" *Введение будущей даты недопустимо ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.passportDateOfIssue.$model,expression:"$v.passportDateOfIssue.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.passportDateOfIssue.$error},attrs:{type:"date",id:"start",min:"1900-01-01",placeholder:"дд.мм.гггг"},domProps:{value:t.$v.passportDateOfIssue.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.passportDateOfIssue,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]),a("div",{staticClass:"photo__block"},[a("div",{staticClass:"example-2"},[a("div",{staticClass:"form-group"},[a("form",{ref:"myForm"},[a("input",{ref:"file",staticClass:"input-file",attrs:{type:"file",id:"file",accept:"image/jpeg",multiple:""},on:{change:t.handleFileUpload}}),a("label",{staticClass:"btn btn-tertiary js-labelFile",attrs:{for:"file"}},[a("svg",{staticClass:"svg-inline--fa fa-download fa-w-16",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"download",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[a("path",{attrs:{fill:"currentColor",d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}})]),a("span",{staticClass:"js-fileName"},[t._v("Прикрепите фотографию")])])])])]),!1===t.addfoto?a("div",[t._m(0)]):t._e(),!0===t.addfoto&&this.newProduct.length?a("div",[a("div",{staticClass:"photo-item__row",attrs:{id:"foto"}},t._l(this.newProduct,(function(e,s){return a("div",{key:s,staticClass:"photo-item__column"},[a("div",{staticClass:"preview-image"},[a("div",{staticClass:"preview-remove",attrs:{"data-name":e.file.name},on:{click:function(a){return t.removeHandler(s,e.file.name)}}},[t._v(" X ")]),a("div",{staticClass:"preview-block"},[a("img",{attrs:{src:e.src,alt:"foto"}})]),a("div",{staticClass:"preview-info"},[a("span",[t._v(t._s(e.file.name))]),t._v(" "+t._s(t.bytesToSize(e.file.size))+" ")])])])})),0)]):t._e()]),a("div",{staticClass:"register-trustee"},[t._m(1),t._m(2),a("div",{staticClass:"register-trustee__block"},[a("div",{staticClass:"registr-block__input-confidant"},[a("div",{staticClass:"registr-block__wrap"},[a("div",{staticClass:"label-error-confidant"},[a("label",{class:{"error-line":!t.$v.confidantLastName.alpha},attrs:{for:"name"}},[t._v("Фамилия")]),t.$v.confidantLastName.alpha?t._e():a("p",{staticClass:"error-input-confidant"},[t._v(" *Должно содержать кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.confidantLastName.$model,expression:"$v.confidantLastName.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.confidantLastName.$error},attrs:{type:"text",id:"name",required:""},domProps:{value:t.$v.confidantLastName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.confidantLastName,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"registr-block__wrap"},[a("div",{staticClass:"label-error-confidant"},[a("label",{class:{"error-line":!t.$v.confidantFirstName.alpha},attrs:{for:"name"}},[t._v("Имя")]),t.$v.confidantFirstName.alpha?t._e():a("p",{staticClass:"error-input-confidant"},[t._v(" *Должно содержать кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.confidantFirstName.$model,expression:"$v.confidantFirstName.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.confidantFirstName.$error},attrs:{type:"text",id:"name",required:""},domProps:{value:t.$v.confidantFirstName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.confidantFirstName,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"registr-block__wrap"},[a("div",{staticClass:"label-error-confidant"},[a("label",{class:{"error-line":!t.$v.confidantMiddleName.alpha},attrs:{for:"name"}},[t._v("Отчество")]),t.$v.confidantMiddleName.alpha?t._e():a("p",{staticClass:"error-input-confidant"},[t._v(" *Должно содержать кириллицу ")])]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.confidantMiddleName.$model,expression:"$v.confidantMiddleName.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.confidantMiddleName.$error},attrs:{type:"text",id:"name",required:""},domProps:{value:t.$v.confidantMiddleName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.confidantMiddleName,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"registr-block__input-confidant"},[a("div",{staticClass:"registr-block__wrap"},[a("div",{staticClass:"label-error-confidant"},[a("label",{class:{"error-line":!t.$v.confidantPhone.minLength},attrs:{for:"phone"}},[t._v("Телефон")]),t.$v.confidantPhone.minLength?t._e():a("p",{staticClass:"error-input-confidant"},[t._v(" *Телефон имеет формат 8(XXX)XXX-XX-XX ")])]),a("input",{directives:[{name:"phone",rawName:"v-phone"},{name:"model",rawName:"v-model.trim",value:t.$v.confidantPhone.$model,expression:"$v.confidantPhone.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.confidantPhone.$error},attrs:{type:"tel",name:"confidantPhone",placeholder:"8(___)___-____",maxlength:"14",required:""},domProps:{value:t.$v.confidantPhone.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.confidantPhone,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"registr-block__wrap"},[a("div",{staticClass:"label-error-confidant"},[a("label",{class:{"error-line":!t.$v.relationship.alpha},attrs:{for:"name"}},[t._v("Кем приходится:")])]),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.relationship.$model,expression:"$v.relationship.$model",modifiers:{trim:!0}}],staticClass:"text-input",class:{"error-valid":t.$v.relationship.$error},attrs:{id:"standard-select",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.$v.relationship,"$model",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"Мать"}},[t._v("Мать")]),a("option",{attrs:{value:"Отец"}},[t._v("Отец")]),a("option",{attrs:{value:"Сестра"}},[t._v("Сестра")]),a("option",{attrs:{value:"Брат"}},[t._v("Брат")]),a("option",{attrs:{value:"Друг"}},[t._v("Друг")]),a("option",{attrs:{value:"Другое"}},[t._v("Другое")])])])])])])]),a("div",{staticClass:"registr-block__button"},[a("button",{staticClass:"button btn-primary",attrs:{type:"button","data-tab":"block"},on:{click:function(e){return t.validFirstBlock()}}},[t._v(" Продолжить ")])])]):this.currentUser?a("PutContact",{on:{validFirstBlock:t.changeFirstBlock}}):t._e()],1)])},S=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"photo-item__row",attrs:{id:"foto"}},[s("div",{staticClass:"photo-item__column"},[s("div",{staticClass:"preview-image"},[s("div",{staticClass:"preview-block"},[s("img",{attrs:{src:a("100c"),alt:""}})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register-trustee__title"},[a("p",{staticClass:"mini-title"},[t._v("Доверительное лицо")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"confidant-title"},[a("p",[t._v("*Необязательно для заполнение")])])}],k=a("2909"),x=(a("159b"),a("a434"),a("b5ae")),O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form"},[a("div",{staticClass:"photo-item__row-mini",attrs:{id:"foto"}},[a("div",{staticClass:"photo-item__column"},[a("div",{staticClass:"preview-image"},[a("div",{staticClass:"preview-block"},[a("img",{attrs:{src:""+this.contact.data.result.downloadUrl,alt:""}})])])])]),a("form",{staticClass:"put-succsess-blok",on:{submit:function(e){return e.preventDefault(),t.putContact.apply(null,arguments)}}},[a("div",{staticClass:"registr-block__first"},[a("p",{staticClass:"mini-title"},[t._v("Контактная информация")]),a("div",{staticClass:"registr-block__input"},[a("label",{attrs:{for:"name"}},[t._v("Фамилия")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"name",name:"lastName",required:""},domProps:{value:this.currentUser.lastName}}),a("label",{attrs:{for:"name"}},[t._v("Имя")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"name",name:"firstName",required:""},domProps:{value:this.currentUser.firstName}}),a("label",{attrs:{for:"name"}},[t._v("Отчество")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"name",name:"middleName",required:""},domProps:{value:this.currentUser.middleName}})]),a("div",{staticClass:"registr-block__input"},[a("label",{attrs:{for:"email"}},[t._v("Электронная почта")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"email",name:"email",required:""},domProps:{value:this.currentUser.email}})]),a("div",{staticClass:"registr-block__input"},[a("label",{attrs:{for:"phone"}},[t._v("Телефон")]),a("input",{directives:[{name:"phone",rawName:"v-phone"}],staticClass:"text-input",attrs:{type:"tel",id:"phonefooter",name:"contactPhone",placeholder:"8(___)___-____",maxlength:"14"},domProps:{value:this.currentUser.contactPhone}})])]),a("div",{staticClass:"registr-block__pass-data"},[a("p",{staticClass:"mini-title"},[t._v("Паспортные данные гражданина РФ")]),a("div",{staticClass:"registr-block__passport"},[a("div",{staticClass:"passport"},[a("div",{staticClass:"passport__block margin"},[a("label",{attrs:{for:"passportSerial"}},[t._v("Серия:")]),a("input",{staticClass:"seria-input seria",attrs:{maxlength:"4",placeholder:"xxxx",passportData:"",name:"passportSerial"},domProps:{value:this.currentUser.passportData.passportSerial}})]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"passportNumber"}},[t._v("Номер:")]),a("input",{staticClass:"seria-input pass",attrs:{maxlength:"6",placeholder:"xxxxxx",name:"passportNumber"},domProps:{value:this.currentUser.passportData.passportNumber}})])]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"birthDate"}},[t._v("Дата рождения")]),a("input",{staticClass:"text-input",attrs:{type:"date",id:"start",name:"birthDate",placeholder:"дд.мм.гггг"},domProps:{value:this.currentUser.passportData.birthDate}})])]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"registrationAddress"}},[t._v("Адрес Регистраци:")]),a("input",{staticClass:"text-input",attrs:{name:"registrationAddress"},domProps:{value:this.currentUser.passportData.registrationAddress}}),a("label",{attrs:{for:"registrationAddress"}},[t._v("Адрес Фактического проживания:")]),a("input",{staticClass:"text-input",attrs:{name:"placeOfResidence"},domProps:{value:this.currentUser.placeOfResidence}}),a("label",{attrs:{for:"passportPlaceOfIssue"}},[t._v("Кем выдан документ:")]),a("input",{staticClass:"text-input",attrs:{name:"passportPlaceOfIssue",placeholder:"Наименование подразделения"},domProps:{value:this.currentUser.passportData.passportPlaceOfIssue}})]),a("div",{staticClass:"passport__block2"},[a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"departmentCode"}},[t._v("Код подразделения:")]),a("input",{staticClass:"seria-input kod",attrs:{maxlength:"6",placeholder:"xxxxxx",name:"departmentCode"},domProps:{value:this.currentUser.passportData.departmentCode}})]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"passportDateOfIssue"}},[t._v("Дата выдачи документа:")]),a("input",{staticClass:"text-input",attrs:{type:"date",id:"start",name:"passportDateOfIssue",placeholder:"дд.мм.гггг"},domProps:{value:this.currentUser.passportData.passportDateOfIssue}})])])]),this.currentUser.confidantData?a("div",{staticClass:"register-trustee"},[t._m(0),a("div",{staticClass:"register-trustee__block"},[a("div",{staticClass:"registr-block__input-confidant"},[a("div",{staticClass:"registr-block__wrap"},[a("label",{attrs:{for:"confidantLastName"}},[t._v("Имя")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"confidantLastName",name:"confidantLastName",required:""},domProps:{value:this.currentUser.confidantData.confidantLastName}})]),a("div",{staticClass:"registr-block__wrap"},[a("label",{attrs:{for:"confidantFirstName"}},[t._v("Фамилия")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"confidantFirstName",name:"confidantFirstName",required:""},domProps:{value:this.currentUser.confidantData.confidantFirstName}})]),a("div",{staticClass:"registr-block__wrap"},[a("label",{attrs:{for:"confidantMiddleName"}},[t._v("Отчество")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"confidantMiddleName",name:"confidantMiddleName",required:""},domProps:{value:this.currentUser.confidantData.confidantMiddleName}})])]),a("div",{staticClass:"registr-block__input-confidant"},[a("div",{staticClass:"registr-block__wrap"},[a("label",{attrs:{for:"confidantPhone"}},[t._v("Телефон:")]),a("input",{directives:[{name:"phone",rawName:"v-phone"}],staticClass:"text-input",attrs:{type:"tel",id:"phonefooter",name:"confidantPhone",placeholder:"8(___)___-____",required:"",maxlength:"14"},domProps:{value:this.currentUser.confidantData.confidantPhone}})]),a("div",{staticClass:"registr-block__wrap"},[t._m(1),a("div",{staticClass:"select"},[a("select",{staticClass:"text-input",attrs:{id:"standard-select",name:"relationship",required:""},domProps:{value:this.currentUser.confidantData.relationship}},[a("option",{attrs:{value:"Мать"}},[t._v("Мать")]),a("option",{attrs:{value:"Отец"}},[t._v("Отец")]),a("option",{attrs:{value:"Сестра"}},[t._v("Сестра")]),a("option",{attrs:{value:"Брат"}},[t._v("Брат")]),a("option",{attrs:{value:"Друг"}},[t._v("Друг")]),a("option",{attrs:{value:"Другое"}},[t._v("Другое")])])])])])])]):t._e(),t._m(2)])])},P=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register-trustee__title"},[a("p",{staticClass:"mini-title"},[t._v("Доверительное лицо")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label-error-confidant"},[a("label",{attrs:{for:"relationship"}},[t._v("Кем приходится:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"registr-block__button"},[a("button",{staticClass:"button btn-primary",attrs:{type:"submit","data-tab":"block"}},[t._v(" Изменить ")])])}],N=a("3835"),I=a("b85c"),y=function(t){return v.post("/api/1/registration",t)},D=function(t){return v.post("/api/1/admin/upload",t)},A=function(t){return console.log(t),v.post("/api/1/change/user/".concat(t.id),t)},j={contact:y,PutContact:A,addPhoto:D},L=function(){return v.get("api/1/find/all/weapon")},W=function(t){return v.get("api/1/find/all/name/weapon",{params:{name:t}})},E={getAllWeapon:L,getWeapon:W},F=function(t){return console.log(t),v.post("/api/1/unit",t)},B={getSerial:F},M={isSubmitting:!1,isLoading:!1,isAuthenticated:!1,validationErrors:null,allWeapon:null,weapon:null,getWeaponItem:l("currentWepon"),contact:JSON.parse(localStorage.getItem("contact")||null),currentUser:l("currentUser"),getStorageItem:l("currentStorage"),statusActivation:JSON.parse(localStorage.getItem("statusActivation")||null)},U={contactStart:"[register] contactStart",contactSuccess:"[register] contactSuccess",contactFailure:"[register] contactFailure",addPhotoStart:"[register] addPhotoStart",addPhotoSuccess:"[register] addPhotoSuccess",addPhotoFailure:"[register] addPhotoFailure",PutContactStart:"[register] PutContactStart",PutContactSuccess:"[register] PutContactSuccess",PutContactFailure:"[register] PutContactFailure",PutContactItemStart:"[register]   PutContactItemStart",PutContactItemSuccess:"[register]   PutContactItemSuccess",PutContactItemFailure:"[register]   PutContactItemFailure",getAllWeaponStart:"[register] getAllWeaponStart",getAllWeaponSuccess:"[register] getAllWeaponSuccess",getAllWeaponFailure:"[register] getAllWeaponFailure",getWeaponStart:"[register] getWeaponStart",getWeaponSuccess:"[register] getWeaponSuccess",getWeaponFailure:"[register] getWeaponFailure",getDataContactSuccess:"[register] getDataContactSuccess",getWeaponItemSuccess:"[register] getWeaponItemSuccess",changeWeaponItemSuccess:"[register] changeWeaponItemSuccess",getStorageItemSuccess:"[register] getStorageItemSuccess",getSerialStart:"[register] getSerialStart",getSerialSuccess:"[register] getSerialSuccess",getSerialFailure:"[register] getSerialFailure"},q={contact:"[register] contact",addPhoto:"[register] addPhoto",PutContact:"[register] putContact",PutContactItem:"[register] putContactItem",getAllWeapon:"[register] getAllWeapon",getWeapon:"[register] getWeapon",getWeaponItem:"[register] getWeaponItem",changeWeaponItem:"[register] changeWeaponItem",getStorageItem:"[register] getStorageItem",getDataContact:"[register] getDataContact",getSerial:"[register] getSerial"},z=(d={},Object(o["a"])(d,U.contactStart,(function(t){t.isLoading=!0,t.isAuthenticated=!1,t.validationErrors=null})),Object(o["a"])(d,U.contactSuccess,(function(t,e){t.isAuthenticated=!0,t.isLoading=!1,t.contact=e,t.isLoggedIn=!0})),Object(o["a"])(d,U.contactFailure,(function(t,e){t.isAuthenticated=!1,t.isLoading=!1,t.validationErrors=e})),Object(o["a"])(d,U.addPhotoStart,(function(t){t.isLoading=!0,t.isAuthenticated=!1,t.validationErrors=null})),Object(o["a"])(d,U.addPhotoSuccess,(function(t){t.isLoading=!1,t.isAuthenticated=!0})),Object(o["a"])(d,U.addPhotoFailure,(function(t,e){t.isLoading=!1,t.isAuthenticated=!1,t.validationErrors=e})),Object(o["a"])(d,U.getAllWeaponStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(d,U.getAllWeaponSuccess,(function(t,e){t.isLoading=!1,t.allWeapon=e})),Object(o["a"])(d,U.getAllWeaponFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),Object(o["a"])(d,U.getWeaponStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(d,U.getWeaponSuccess,(function(t,e){t.isLoading=!1,t.weapon=e})),Object(o["a"])(d,U.getWeaponFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),Object(o["a"])(d,U.getDataContactSuccess,(function(t,e){t.isLoading=!1,t.currentUser=e,localStorage.setItem("currentUser",JSON.stringify(t.currentUser))})),Object(o["a"])(d,U.getWeaponItemSuccess,(function(t,e){t.isLoading=!1,t.getWeaponItem=e,localStorage.setItem("currentWepon",JSON.stringify(t.getWeaponItem))})),Object(o["a"])(d,U.changeWeaponItemSuccess,(function(t){t.isLoading=!1,t.getWeaponItem=null,localStorage.removeItem("currentWepon")})),Object(o["a"])(d,U.getStorageItemSuccess,(function(t,e){t.isLoading=!1,t.getStorageItem=e,localStorage.setItem("currentStorage",JSON.stringify(t.getStorageItem))})),Object(o["a"])(d,U.getSerialStart,(function(t){t.isLoading=!0,t.validationErrors=null,t.statusActivation=null})),Object(o["a"])(d,U.getSerialSuccess,(function(t,e){t.isLoading=!1,t.statusActivation=e})),Object(o["a"])(d,U.getSerialFailure,(function(t){t.isLoading=!1,t.validationErrors="FAIL"})),Object(o["a"])(d,U.PutContactStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(d,U.PutContactSuccess,(function(t){t.isLoading=!1})),Object(o["a"])(d,U.PutContactFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),Object(o["a"])(d,U.PutContactItemStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(d,U.PutContactItemSuccess,(function(t){t.isLoading=!1})),Object(o["a"])(d,U.PutContactItemFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),d),R=(p={},Object(o["a"])(p,q.contact,(function(t,e){return new Promise((function(a){t.commit(U.contactStart),j.contact(e).then((function(e){t.commit(U.contactSuccess,e),window.localStorage.setItem("contact",e),u("contact",e),a(e)})).catch((function(e){t.commit(U.contactFailure,e),console.log("ошибка",e)}))}))})),Object(o["a"])(p,q.addPhoto,(function(t,e){return new Promise((function(a){t.commit(U.addPhotoStart),j.addPhoto(e).then((function(e){t.commit(U.addPhotoSuccess,e),a(e)})).catch((function(e){t.commit(U.addPhotoFailure,e),console.log("ошибка",e)}))}))})),Object(o["a"])(p,q.PutContact,(function(t,e){return new Promise((function(a){t.commit(U.PutContactStart),j.PutContact(e).then((function(s){localStorage.setItem("currentUser",JSON.stringify(e)),M.currentUser=e,t.commit(U.PutContactSuccess,s),a(s)})).catch((function(e){t.commit(U.PutContactFailure,e),console.log("ошибка",e)}))}))})),Object(o["a"])(p,q.PutContactItem,(function(t,e){return new Promise((function(a){t.commit(U.PutContactItemStart),j.PutContact(e).then((function(s){localStorage.setItem("allClients",JSON.stringify(e)),t.commit(U.PutContactItemSuccess,s),a(s)})).catch((function(e){t.commit(U.PutContactItemFailure,e),console.log("ошибка",e)}))}))})),Object(o["a"])(p,q.getDataContact,(function(t,e){return t.commit(U.getDataContactSuccess,e)})),Object(o["a"])(p,q.getWeaponItem,(function(t,e){return t.commit(U.getWeaponItemSuccess,e)})),Object(o["a"])(p,q.changeWeaponItem,(function(t){return t.commit(U.changeWeaponItemSuccess)})),Object(o["a"])(p,q.getStorageItem,(function(t,e){return t.commit(U.getStorageItemSuccess,e)})),Object(o["a"])(p,q.getAllWeapon,(function(t){return new Promise((function(e){t.commit(U.getAllWeaponStart),E.getAllWeapon().then((function(a){t.commit(U.getAllWeaponSuccess,a.data),e(a.data)})).catch((function(e){t.commit(U.getAllWeaponFailure,console.log("error",e))}))}))})),Object(o["a"])(p,q.getWeapon,(function(t,e){return new Promise((function(a){t.commit(U.getWeaponStart),E.getWeapon(e).then((function(e){t.commit(U.getWeaponSuccess,e.data.result),a(e.data.result)})).catch((function(e){t.commit(U.getWeaponFailure,console.log("error",e))}))}))})),Object(o["a"])(p,q.getSerial,(function(t,e){return new Promise((function(a){localStorage.removeItem("statusActivation"),M.statusActivation,t.commit(U.getSerialStart),B.getSerial(e).then((function(e){t.commit(U.getSerialSuccess,e),"SUCCESS"===e.data.status&&(window.localStorage.setItem("statusActivation",e),u("statusActivation",e),localStorage.removeItem("currentStorage"),M.getStorageItem=null,localStorage.removeItem("currentUser"),M.currentUser=null,localStorage.removeItem("currentWepon"),M.getWeaponItem=null),a(e.data)})).catch((function(e){t.commit(U.getSerialFailure,console.log("error",e))}))}))})),p),T={state:M,mutations:z,actions:R},H=a("2f62"),V={name:"AppPutContact",data:function(){return{putData:[],items:{},passportData:{},isActiveBlock:!1}},computed:Object(w["a"])({},Object(H["c"])({currentUser:function(t){return t.register.currentUser},contact:function(t){return t.register.contact}})),components:{},methods:{putContact:function(){var t=document.forms,e=new FormData(t[1]);this.putData=[];var a,s=Object(I["a"])(e);try{for(s.s();!(a=s.n()).done;){var i=Object(N["a"])(a.value,2),n=i[0],r=i[1];this.putData=Object(w["a"])(Object(w["a"])({},this.putData),{},Object(o["a"])({},n,r))}}catch(c){s.e(c)}finally{s.f()}this.validFirstBlock()},submit:function(){var t=this;this.$store.dispatch(q.PutContact,this.items).then((function(){t.$emit("validFirstBlock")})).catch((function(t){console.log("Ошибка",t)}))},validFirstBlock:function(){this.passportData={registrationAddress:this.putData.registrationAddress,passportPlaceOfIssue:this.putData.passportPlaceOfIssue,departmentCode:this.putData.departmentCode,passportDateOfIssue:this.putData.passportDateOfIssue,passportSerial:this.putData.passportSerial,passportNumber:this.putData.passportNumber,birthDate:this.putData.birthDate},this.putData.confidantFirstName&&this.putData.confidantLastName&&this.putData.confidantMiddleName&&this.putData.confidantPhone&&this.putData.relationship?this.confidantData={confidantFirstName:this.putData.confidantFirstName,confidantLastName:this.putData.confidantLastName,confidantMiddleName:this.putData.confidantMiddleName,confidantPhone:this.putData.confidantPhone,relationship:this.putData.relationship}:this.confidantData=null,this.items={id:this.contact.data.result.userId,lastName:this.putData.lastName,firstName:this.putData.firstName,middleName:this.putData.middleName,email:this.putData.email,contactPhone:this.putData.contactPhone,placeOfResidence:this.putData.placeOfResidence,passportData:this.passportData,confidantData:this.confidantData},this.submit()}}},X=V,J=a("2877"),G=Object(J["a"])(X,O,P,!1,null,null,null),K=G.exports,Y={name:"AppContactInfo",data:function(){return{lastName:"",firstName:"",middleName:"",email:"",phone:"",placeOfResidence:"",passportData:{},passportSerial:"",passportNumber:"",registrationAddress:"",passportPlaceOfIssue:"",passportCode:"",birthDate:"",passportDateOfIssue:"",items:{},confidantData:null,submitStatus:null,confidantFirstName:"",confidantLastName:"",confidantMiddleName:"",confidantPhone:"",relationship:"",file:[],newProduct:[],addfoto:!1,isActiveBlock:!1}},validations:{lastName:{required:x["required"],alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё]*$/)},firstName:{required:x["required"],alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё]*$/)},middleName:{required:x["required"],alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё]*$/)},email:{required:x["required"],email:x["email"]},phone:{minLength:Object(x["minLength"])(14),required:x["required"]},passportSerial:{minLength:Object(x["minLength"])(4),required:x["required"],numeric:x["numeric"]},passportNumber:{minLength:Object(x["minLength"])(6),required:x["required"],numeric:x["numeric"]},registrationAddress:{alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё\s]+$/),minLength:Object(x["minLength"])(2),maxLength:Object(x["maxLength"])(150),required:x["required"]},placeOfResidence:{alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё\s]+$/),minLength:Object(x["minLength"])(2),maxLength:Object(x["maxLength"])(150),required:x["required"]},passportPlaceOfIssue:{required:x["required"],alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё\s]+$/),minLength:Object(x["minLength"])(2),maxLength:Object(x["maxLength"])(150)},passportCode:{minLength:Object(x["minLength"])(6),required:x["required"],numeric:x["numeric"]},birthDate:{required:x["required"],maxValue:function(t){return t<(new Date).toISOString()},alpha:x["helpers"].regex("alpha",/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}$/)},passportDateOfIssue:{required:x["required"],maxValue:function(t){return t<(new Date).toISOString()},alpha:x["helpers"].regex("alpha",/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}$/)},confidantFirstName:{required:x["required"],alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё]*$/)},confidantLastName:{required:x["required"],alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё]*$/)},confidantMiddleName:{required:x["required"],alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё]*$/)},confidantPhone:{minLength:Object(x["minLength"])(14),required:x["required"]},relationship:{required:x["required"],alpha:x["helpers"].regex("alpha",/^[А-Яа-яЁё]*$/)}},components:{PutContact:K},computed:Object(w["a"])(Object(w["a"])({},Object(H["c"])({currentUser:function(t){return t.register.currentUser},contact:function(t){return t.register.contact}})),{},{now:function(){return this.birthDate.getFullYear()}}),methods:{submit:function(){this.confidantFirstName.length||this.confidantLastName.length||this.confidantMiddleName.length||this.confidantPhone.length||this.relationship.length?(this.$v.$touch(),this.$v.$invalid?this.submitStatus="ERROR in first":this.request()):(this.$v.lastName.$touch(),this.$v.firstName.$touch(),this.$v.middleName.$touch(),this.$v.email.$touch(),this.$v.phone.$touch(),this.$v.placeOfResidence.$touch(),this.$v.passportSerial.$touch(),this.$v.passportNumber.$touch(),this.$v.registrationAddress.$touch(),this.$v.passportPlaceOfIssue.$touch(),this.$v.passportCode.$touch(),this.$v.birthDate.$touch(),this.$v.passportDateOfIssue.$touch(),this.$v.lastName.$invalid||this.$v.firstName.$invalid||this.$v.middleName.$invalid||this.$v.email.$invalid||this.$v.phone.$invalid||this.$v.placeOfResidence.$invalid||this.$v.passportSerial.$invalid||this.$v.passportNumber.$invalid||this.$v.passportPlaceOfIssue.$invalid||this.$v.passportCode.$invalid||this.$v.birthDate.$invalid||this.$v.passportDateOfIssue.$invalid?this.submitStatus="ERROR second":this.request())},ChangeConfidant:function(t){this.confidantData=t},handleFileUpload:function(t){var e=this;this.file=this.$refs.file.files,Object(k["a"])(this.file).forEach((function(t){if(!t.type.match("image"))return console.log("Не изображение!");var a=new FileReader;a.onload=function(t){e.addfoto=!0,e.newProduct.push({src:t.target.result,file:file})},a.readAsDataURL(t)}))},bytesToSize:function(t){var e=["Bytes","KB","MB","GB","TB"];if(!t)return"0 Byte";var a=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return Math.round(t/Math.pow(1024,a))+" "+e[a]},removeHandler:function(t,e){this.newProduct.splice(t,1),this.addfoto=!this.addfoto},request:function(){var t=this;this.$store.dispatch(q.contact,this.item).then((function(){if("SUCCESS"===t.contact.data.status){t.$store.dispatch(q.getDataContact,t.item).then((function(){})).catch((function(t){console.log(t,"Error")}));var e=new FormData,a=t.file;e.append("file",a[0]),e.append("id",t.contact.data.result.userId),t.$store.dispatch(q.addPhoto,e).then((function(){t.$emit("validFirstBlock")})).catch((function(t){console.log(t,"Error")}))}})).catch((function(t){console.log("Ошибка",t)}))},changeFirstBlock:function(){this.$emit("validFirstBlock")},validFirstBlock:function(){this.passportData={registrationAddress:this.registrationAddress,passportPlaceOfIssue:this.passportPlaceOfIssue,departmentCode:this.passportCode,passportDateOfIssue:this.passportDateOfIssue,passportSerial:this.passportSerial,passportNumber:this.passportNumber,birthDate:this.birthDate},this.confidantFirstName.length&&this.confidantLastName.length&&this.confidantMiddleName.length&&this.confidantPhone.length&&this.relationship.length?this.confidantData={confidantFirstName:this.confidantFirstName,confidantLastName:this.confidantLastName,confidantMiddleName:this.confidantMiddleName,confidantPhone:this.confidantPhone,relationship:this.relationship}:this.confidantData=null,this.item={lastName:this.lastName,firstName:this.firstName,middleName:this.middleName,email:this.email,contactPhone:this.phone,placeOfResidence:this.placeOfResidence,passportData:this.passportData,confidantData:this.confidantData},this.submit()}}},Q=Y,Z=Object(J["a"])(Q,$,S,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-post"},[this.getWeaponItem?s("div",{staticClass:"get-weapon__ready"},[s("div",{staticClass:"get-weapon__ready-block"},[s("div",{staticClass:"get-weapon__text"},[s("div",{staticClass:"get-weapon__title title-center"},[t._v(" Выбранное оружие: "+t._s(this.getWeaponItem.weaponName)+" ")]),this.getWeaponItem.barrel_length?s("p",{staticClass:"get-weapon__name"},[t._v(" Длина ствола: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.barrel_length)+" ")])]):t._e(),this.getWeaponItem.caliber?s("p",{staticClass:"get-weapon__name"},[t._v(" Калибр: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.caliber))])]):t._e(),this.getWeaponItem.capacity?s("p",{staticClass:"get-weapon__name"},[t._v(" Объем магазина: "),s("span",{staticClass:"get-weapon__data"},[t._v(" "+t._s(this.getWeaponItem.capacity)+" ")])]):t._e(),this.getWeaponItem.chamber_length?s("p",{staticClass:"get-weapon__name"},[t._v(" Длина патронника: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.chamber_length)+" ")])]):t._e(),this.getWeaponItem.dimensions?s("p",{staticClass:"get-weapon__name"},[t._v(" Размер оружия: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.dimensions)+" ")])]):t._e(),this.getWeaponItem.extra_info?s("p",{staticClass:"get-weapon__name"},[t._v(" Дополнительнная инфорация: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.extra_info)+" ")])]):t._e(),this.getWeaponItem.gost?s("p",{staticClass:"get-weapon__name"},[t._v(" ГОСТ: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.gost)+" ")])]):t._e(),this.getWeaponItem.manufacture?s("p",{staticClass:"get-weapon__name"},[t._v(" Производитель: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.manufacture)+" ")])]):t._e(),this.getWeaponItem.muzzle?s("p",{staticClass:"get-weapon__name"},[t._v(" Дуло: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.muzzle)+" ")])]):t._e(),this.getWeaponItem.muzzle_energy?s("p",{staticClass:"get-weapon__name"},[t._v(" Дульная энергия: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.muzzle_energy))])]):t._e(),this.getWeaponItem.type?s("p",{staticClass:"get-weapon__name"},[t._v(" Тип оружия: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.type)+" ")])]):t._e(),this.getWeaponItem.weight?s("p",{staticClass:"get-weapon__name"},[t._v(" Вес оружия: "),s("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.getWeaponItem.weight))])]):t._e(),s("div",{staticClass:"get-weapon__btn"},[s("button",{staticClass:"button btn-primary",attrs:{type:"button"},on:{click:function(e){return t.check()}}},[t._v(" Изменить оружие ")])])]),s("div",{staticClass:"get-weapon__address"},[t._m(0),s("label",{staticClass:"get-weapon__title title-center",attrs:{for:"addres"}},[t._v(" Адрес хранения оружия: ")]),s("VueDadata",{on:{changeSecondBlock:t.changeSecondBlock}})],1)])]):t._e(),null===this.getWeaponItem?s("div",{},[s("p",{staticClass:"mini-title"},[t._v("Выбор оружия")]),s("div",{staticClass:"search-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input-search",attrs:{type:"search",id:"search-bar",name:"search",placeholder:"Введите название оружия","aria-label":"Вводите"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),s("img",{staticClass:"search-icon",attrs:{src:a("249a"),alt:"Search"},on:{click:function(e){return t.onChange(t.search)}}})]),t.search?s("div",{staticClass:"get-weapon__row"},[s("div",{staticClass:"get-weapon__column"},t._l(this.Weapon,(function(e){return s("ItemWeapon",{key:e.id,attrs:{weapon_item:e},on:{changeSecondBlock:t.changeSecondBlock}})})),1)]):t._e()]):t._e(),t.showModal?s("ModalChange",{on:{close:function(e){t.showModal=!1}}}):t._e()],1)},at=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"warning"},[a("p",{staticClass:"error-messages-item"},[t._v(" Для дальнейшей регистрации необходимо указать адрес хранения оружия! ")])])}],st=(a("841c"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"},on:{click:function(e){return t.$emit("close")}}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[a("h1",{staticClass:"modal__title"},[t._v("Подтвердите действие!")]),t._t("header",(function(){return[a("p",[t._v("Вы действительно хотите изменить свой выбор?")])]}))],2),a("div",{staticClass:"modal-body"},[a("input",{staticClass:"modal__btn",attrs:{type:"button",value:"Да"},on:{click:function(e){return t.submit()}}}),a("input",{staticClass:"modal__btn",attrs:{type:"button",value:"НЕТ"},on:{click:function(e){return t.$emit("close")}}})]),a("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])])}),it=[],nt={name:"AppModal",props:{weapon:{type:Object,default:function(){return{}}}},methods:{submit:function(){var t=this;console.log(this.weapon),this.$store.dispatch(q.changeWeaponItem).then((function(){t.$emit("close")})).catch((function(t){console.log("Ошибка",t)}))}}},ot=nt,rt=Object(J["a"])(ot,st,it,!1,null,null,null),ct=rt.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isActiveError?a("p",{staticClass:"error-input"},[t._v("Адрес введен не полностью!")]):t._e(),this.getStorageItem?a("div",{staticClass:"data-title"},[a("p",[t._v(t._s(this.getStorageItem.storage))])]):t._e(),this.getStorageItem?t._e():a("div",{},[!1===t.isChecked?a("vue-dadata",{attrs:{token:"ebd2ba512adfc5a0a92d682a21f03adda0331b04",onChange:t.onChange,autoload:!0}}):t._e(),a("div",{staticClass:"checkbox-block"},[a("label",{staticClass:"switch",attrs:{for:"checkbox"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isChecked,expression:"isChecked"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(t.isChecked)?t._i(t.isChecked,null)>-1:t.isChecked},on:{change:function(e){var a=t.isChecked,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,o=t._i(a,n);s.checked?o<0&&(t.isChecked=a.concat([n])):o>-1&&(t.isChecked=a.slice(0,o).concat(a.slice(o+1)))}else t.isChecked=i}}}),a("div",{staticClass:"slider round"})]),a("p",[t._v("Не можете найти свой адрес?")])]),!0===t.isChecked?a("div",{staticClass:"checkbox-block-input"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.storageNew,expression:"storageNew",modifiers:{trim:!0}}],staticClass:"text-input",domProps:{value:t.storageNew},on:{input:function(e){e.target.composing||(t.storageNew=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]):t._e(),a("input",{staticClass:"button btn-primary",attrs:{type:"button",value:"Далее"},on:{click:function(e){return t.Submit()}}})],1),this.getStorageItem?a("input",{staticClass:"button btn-primary",attrs:{type:"button",value:"Далее"},on:{click:function(e){return t.SubmitOk()}}}):t._e()])},ut=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label-error"},[a("label",{attrs:{for:"registrationAddress"}},[t._v("Введите точный адрес:")])])}],dt=a("4e06"),pt={name:"VueDadata",data:function(){return{storageData:null,isActiveError:!1,isActiveBlock:!1,isChecked:!1,storageNew:""}},computed:Object(w["a"])({},Object(H["c"])({getStorageItem:function(t){return t.register.getStorageItem}})),components:{"vue-dadata":dt["a"]},methods:{onChange:function(t){null!=t.data.house&&null!=t.data.street&&(this.isActiveError=!1,this.storageData={storage:t.value,storageLat:t.data.geo_lat,storageLon:t.data.geo_lon})},Submit:function(){var t=this;this.storageData?this.$store.dispatch(q.getStorageItem,this.storageData).then((function(){t.isActiveError=!1,t.$emit("changeSecondBlock"),t.$emit("close")})).catch((function(t){console.log("Ошибка",t)})):!0!==this.isChecked||this.storageData?this.isActiveError=!0:(this.storageData={storage:this.storageNew},this.$store.dispatch(q.getStorageItem,this.storageData).then((function(){t.isActiveError=!1,t.$emit("changeSecondBlock"),t.$emit("close")})).catch((function(t){console.log("Ошибка",t)})))},SubmitOk:function(){this.$emit("changeSecondBlock")}}},mt=pt,ht=Object(J["a"])(mt,lt,ut,!1,null,null,null),vt=ht.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"get-weapon__block"},[a("div",{staticClass:"get-weapon__text-block"},[a("div",{staticClass:"get-weapon__title"},[t._v(" "+t._s(this.weapon_item.weaponName)+" ")]),this.weapon_item.barrel_length?a("p",{staticClass:"get-weapon__name"},[t._v(" Длина ствола: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.barrel_length)+" ")])]):t._e(),this.weapon_item.caliber?a("p",{staticClass:"get-weapon__name"},[t._v(" Калибр: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.caliber))])]):t._e(),this.weapon_item.capacity?a("p",{staticClass:"get-weapon__name"},[t._v(" Объем магазина: "),a("span",{staticClass:"get-weapon__data"},[t._v(" "+t._s(this.weapon_item.capacity)+" ")])]):t._e(),this.weapon_item.chamber_length?a("p",{staticClass:"get-weapon__name"},[t._v(" Длина патронника: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.chamber_length)+" ")])]):t._e(),this.weapon_item.dimensions?a("p",{staticClass:"get-weapon__name"},[t._v(" Размер оружия: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.dimensions)+" ")])]):t._e(),this.weapon_item.extra_info?a("p",{staticClass:"get-weapon__name"},[t._v(" Дополнительнная инфорация: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.extra_info)+" ")])]):t._e(),this.weapon_item.gost?a("p",{staticClass:"get-weapon__name"},[t._v(" ГОСТ: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.gost)+" ")])]):t._e(),this.weapon_item.manufacture?a("p",{staticClass:"get-weapon__name"},[t._v(" Производитель: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.manufacture)+" ")])]):t._e(),this.weapon_item.muzzle?a("p",{staticClass:"get-weapon__name"},[t._v(" Дуло: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.muzzle)+" ")])]):t._e(),this.weapon_item.muzzle_energy?a("p",{staticClass:"get-weapon__name"},[t._v(" Дульная энергия: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.muzzle_energy))])]):t._e(),this.weapon_item.type?a("p",{staticClass:"get-weapon__name"},[t._v(" Тип оружия: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.type)+" ")])]):t._e(),this.weapon_item.weight?a("p",{staticClass:"get-weapon__name"},[t._v(" Вес оружия: "),a("span",{staticClass:"get-weapon__data"},[t._v(t._s(this.weapon_item.weight))])]):t._e()]),a("div",{staticClass:"get-weapon__btn"},[a("button",{staticClass:"button btn-primary",attrs:{type:"button","data-tab":"post"},on:{click:function(e){return t.check()}}},[t._v(" Выбрать ")])]),t.showModal?a("Modal",{attrs:{weapon:this.weapon_item},on:{close:function(e){t.showModal=!1},changeSecondBlock:t.changeSecondBlock}}):t._e()],1)},_t=[],gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"},on:{click:function(e){return t.$emit("close")}}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[a("h1",{staticClass:"modal__title"},[t._v("Подтвердите действие!")]),t._t("header",(function(){return[a("p",[t._v("Вы действительно хотите выбрать данное оружие?")])]}))],2),a("div",{staticClass:"modal-body"},[a("input",{staticClass:"modal__btn",attrs:{type:"button",value:"Да"},on:{click:function(e){return t.submit()}}}),a("input",{staticClass:"modal__btn",attrs:{type:"button",value:"НЕТ"},on:{click:function(e){return t.$emit("close")}}})]),a("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])])},Ct=[],bt={name:"AppModal",props:{weapon:{type:Object,default:function(){return{}}}},methods:{submit:function(){var t=this;console.log(this.weapon),this.$store.dispatch(q.getWeaponItem,this.weapon).then((function(){t.$emit("close")})).catch((function(t){console.log("Ошибка",t)}))}}},wt=bt,$t=Object(J["a"])(wt,gt,Ct,!1,null,null,null),St=$t.exports,kt={name:"AppItemWeapon",data:function(){return{showModal:!1}},props:{weapon_item:{type:Object,default:function(){return{}}}},components:{Modal:St},methods:{changeSecondBlock:function(){this.$emit("changeSecondBlock")},check:function(){this.showModal=!0}}},xt=kt,Ot=Object(J["a"])(xt,ft,_t,!1,null,null,null),Pt=Ot.exports,Nt={name:"AppChoiceOfWeapon",data:function(){return{search:"",isActiveBlock:!0,showModal:!1}},computed:Object(w["a"])(Object(w["a"])({},Object(H["c"])({Weapon:function(t){return t.register.weapon},currentUser:function(t){return t.register.currentUser},getWeaponItem:function(t){return t.register.getWeaponItem}})),{},{searchReact:function(){return this.search}}),components:{ItemWeapon:Pt,VueDadata:vt,ModalChange:ct},methods:{onChange:function(t){var e=t;this.$store.dispatch(q.getWeapon,e).then((function(t){console.log(t)})).catch((function(t){console.log("Ошибка",t)})),console.log("Change")},changeSecondBlock:function(){this.$emit("changeSecondBlock")},check:function(){this.showModal=!0}},watch:{searchReact:function(){var t=this.searchReact;""===t||this.$store.dispatch(q.getWeapon,t).then((function(t){console.log(t)})).catch((function(t){console.log("Ошибка",t)}))}}},It=Nt,yt=Object(J["a"])(It,et,at,!1,null,null,null),Dt=yt.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"active-block"},[a("p",{staticClass:"mini-title"},[t._v("Активация блока")]),a("div",{staticClass:"active-block-input"},[a("label",{attrs:{for:"active"}},[t._v("Введите серийный номер блока:")]),this.statusActivation?a("div",{staticClass:"active-block-error"},["FAIL"===this.statusActivation.status?a("div",{staticClass:"active-block-error__fail"},[a("p",{staticClass:"active-block-error__error-input"},[t._v(" "+t._s(this.statusActivation.message)+" ")])]):t._e()]):t._e(),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.serial.$model,expression:"$v.serial.$model",modifiers:{trim:!0}}],staticClass:"seria-input serial",attrs:{maxlength:"14",placeholder:"xxxxxxxxxxxxxx"},domProps:{value:t.$v.serial.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.serial,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.isLoading?a("div",{staticClass:"loader"},[a("p",{staticClass:"loader-title"},[t._v("Loading...")]),t._m(0)]):t._e(),a("div",{staticClass:"registr-block__button"},[a("button",{staticClass:"button btn-primary",attrs:{type:"button",disabled:!0===t.isLoading},on:{click:function(e){return t.active()}}},[t._v(" Активировать ")])]),a("div",{staticClass:"registr-block__button"})])])},jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"clock"}),a("div",{staticClass:"clock"})])}],Lt=(a("99af"),{name:"AppActiveBlock",data:function(){return{activeBlock:{},serial:"",passport_id:""}},validations:{serial:{minLength:Object(x["minLength"])(14),maxLength:Object(x["maxLength"])(14),required:x["required"]}},computed:Object(w["a"])({},Object(H["c"])({currentUser:function(t){return t.register.currentUser},validationErrors:function(t){return t.register.validationErrors},getWeaponItem:function(t){return t.register.getWeaponItem},getStorageItem:function(t){return t.register.getStorageItem},isLoading:function(t){return t.register.isLoading},statusActivation:function(t){return t.register.statusActivation}})),methods:{active:function(){var t=this;this.activeBlock={passportSerial:this.currentUser.passportData.passportSerial,passportNumber:this.currentUser.passportData.passportNumber,serial:this.serial,weaponId:this.getWeaponItem.id,storageData:this.getStorageItem},this.$store.dispatch(q.getSerial,this.activeBlock).then((function(e){"SUCCESS"===t.statusActivation.data.status&&Na.push({name:"success"})})).catch((function(t){console.log("Ошибка",t)})),this.passport_id=this.currentUser.passportData.passportSerial.concat(this.currentUser.passportData.passportNumber)},success:function(){}}}),Wt=Lt,Et=Object(J["a"])(Wt,At,jt,!1,null,null,null),Ft=Et.exports,Bt={data:function(){return{title:"Регистрация",isBlockActive:!0,isPostActive:!1,isPayActive:!1,isButtonDisabled:!1}},components:{ContactInfo:tt,ChoiceOfWeapon:Dt,ActiveBlock:Ft},computed:Object(w["a"])({},Object(H["c"])({isAuthenticated:function(t){return t.auth.isAuthenticated},token:function(t){return t.auth.token},currentUser:function(t){return t.register.currentUser},isLoading:function(t){return t.clients.isLoading},getWeaponItem:function(t){return t.register.getWeaponItem}})),methods:{changeFirstBlock:function(){this.switchTabsClass("block")},changeSecondBlock:function(){this.switchTabsClass("post")},switchTabsClass:function(t){if("block"===t){if(null!=this.currentUser){this.isBlockActive=!1,this.isPostActive=!0,this.isPayActive=!1;var e=document.getElementById("choice-weapons");e.classList.add("active")}}else if("post"===t){if(null!=this.getWeaponItem){this.isBlockActive=!1,this.isPostActive=!1,this.isPayActive=!0;var a=document.getElementById("active-block");a.classList.add("active")}}else this.isBlockActive=!0,this.isPostActive=!1,this.isPayActive=!1}},mounted:function(){"undefined"!==this.token&&""!==this.token||this.$router.push({name:"login"})},beforeMount:function(){document.title=this.title},beforeUpdate:function(){document.title=this.title}},Mt=Bt,Ut=Object(J["a"])(Mt,C,b,!1,null,null,null),qt=Ut.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-login"},[a("div",{staticClass:"login"},[t._m(0),a("div",{staticClass:"error-messages"},[t.validationErrors?a("AppValidationErrors",{attrs:{"validation-errors":t.validationErrors}}):t._e()],1),a("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("fieldset",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Логин",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("fieldset",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"Пароль"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("input",{staticClass:"button btn-primary",attrs:{type:"button",value:"Вход"},on:{click:function(e){return t.onSubmit()}}})])])])},Rt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login__img"},[s("img",{attrs:{src:a("f833"),alt:"Logo"}})])}],Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"error-messages-item"},[a("li",[t._v(" "+t._s(t.validationErrors.message)+" ")])])},Ht=[],Vt={name:"AppValidationErrors",props:{validationErrors:{type:Object,required:!0}},computed:{}},Xt=Vt,Jt=Object(J["a"])(Xt,Tt,Ht,!1,null,null,null),Gt=Jt.exports,Kt={name:"AppLogin",data:function(){return{email:"",password:""}},components:{AppValidationErrors:Gt},computed:Object(w["a"])({},Object(H["c"])({isSubmitting:function(t){return t.auth.isSubmitting},validationErrors:function(t){return t.auth.validationErrors}})),methods:{onSubmit:function(){var t=this;this.$store.dispatch(Da.login,{email:this.email,password:this.password}).then((function(){t.validationErrors||t.$router.push({name:"Registration"})})).catch((function(t){console.log("Ошибка",t)}))}}},Yt=Kt,Qt=Object(J["a"])(Yt,zt,Rt,!1,null,null,null),Zt=Qt.exports,te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clients"},[t.isLoading?s("div",{staticClass:"holder"},[t._m(0)]):t._e(),s("div",{staticClass:"container"},[s("div",{staticClass:"clients-wrap"},[s("div",{staticClass:"clients__select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.select,expression:"select"}],staticClass:"text-input",attrs:{id:"standard-select"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.select=e.target.multiple?a:a[0]}}},[s("option",{attrs:{value:"serial"}},[t._v("Поиск по серийному номеру:")]),s("option",{attrs:{value:"phone"}},[t._v("Поиск по номеру телефона:")])])]),s("div",{staticClass:"clients__search-container"},[s("div",{staticClass:"search-container2",class:{activeBlock:"serial"===this.select}},[s("div",{staticClass:"clients__search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input-search",attrs:{type:"search",id:"search-bar",name:"search",placeholder:"Введите серийный номер блока","aria-label":"Вводите"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),s("img",{staticClass:"search-icon",attrs:{src:a("249a"),alt:"Search"},on:{click:function(e){return t.onChange(t.search)}}})])]),s("div",{staticClass:"search-container2",class:{activeBlock:"phone"===this.select}},[s("div",{staticClass:"clients__search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"},{name:"phone",rawName:"v-phone"}],staticClass:"text-input",attrs:{type:"tel",id:"search-bar",name:"phone",placeholder:"8(___)___-____",maxlength:"14",required:""},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),s("img",{staticClass:"search-icon",attrs:{src:a("249a"),alt:"Search"},on:{click:function(e){return t.searchPhone(t.phone)}}})])])])]),s("div",{staticClass:"clients__row"},[this.validationErrors?s("div",{staticClass:"clients__error"},["FAIL"===this.validationErrors.status?s("div",{staticClass:"mini-title"},[t._v(" "+t._s(this.validationErrors.message)+" ")]):t._e()]):t._e(),!this.allClients&&this.confirm?s("div",{staticClass:"confirm"},[s("svg",{staticClass:"svg-inline--fa fa-user-times fa-w-20",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"user-times",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"}},[s("path",{attrs:{fill:"currentColor",d:"M589.6 240l45.6-45.6c6.3-6.3 6.3-16.5 0-22.8l-22.8-22.8c-6.3-6.3-16.5-6.3-22.8 0L544 194.4l-45.6-45.6c-6.3-6.3-16.5-6.3-22.8 0l-22.8 22.8c-6.3 6.3-6.3 16.5 0 22.8l45.6 45.6-45.6 45.6c-6.3 6.3-6.3 16.5 0 22.8l22.8 22.8c6.3 6.3 16.5 6.3 22.8 0l45.6-45.6 45.6 45.6c6.3 6.3 16.5 6.3 22.8 0l22.8-22.8c6.3-6.3 6.3-16.5 0-22.8L589.6 240zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}})]),s("p",{staticClass:"confirm__title"},[t._v(t._s(this.confirm))])]):t._e(),this.allClients?s("div",{staticClass:"clients__column"},[s("div",{staticClass:"clients__first"},[s("ItemClients",{attrs:{client_item:this.allClients}})],1),s("div",{staticClass:"clients__second"},[s("PutItemClient",{attrs:{client_item:this.allClients},on:{changeData:t.changeData}})],1)]):t._e()]),this.allClients?s("div",{},[s("p",{staticClass:"mini-title"},[t._v("Блоки Оружий")]),t._l(this.allClients.unitInfo,(function(e){return s("BlocksWeapon",{key:e.id,attrs:{weapon_item:e},on:{deleteBlock:t.deleteBlock}})})),s("div",{staticClass:"add-blocks-weapon"},[s("button",{staticClass:"button btn-neutral",attrs:{type:"button"},on:{click:t.addToBlock}},[s("svg",{staticClass:"svg-inline--fa fa-plus fa-w-14",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"plus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[s("path",{attrs:{fill:"currentColor",d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}})]),t._v(" Добавить новое оружия ")])])],2):t._e()])])},ee=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"preloader"},[a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div")])}],ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"client-block"},[a("h3",{staticClass:"client-block__name"},[t._v(" "+t._s(this.client_item.lastName)+" "+t._s(this.client_item.firstName)+" "+t._s(this.client_item.middleName)+" ")]),a("div",{staticClass:"client-block__img"},[a("img",{attrs:{src:""+this.client_item.downloadUrl,alt:""}})]),a("div",{staticClass:"client-block__info"},[a("p",{staticClass:"clients__info-title"},[t._v(" Email: "),a("span",[t._v(t._s(this.client_item.email))])]),a("p",{staticClass:"clients__info-title"},[t._v(" Телефон: "),a("span",[t._v(t._s(this.client_item.contactPhone))])])]),a("div",{staticClass:"client-block__info-btn"},[a("div",{staticClass:"client-block__info-btn-item",on:{click:function(e){return t.show()}}},[a("span",{staticClass:"link-text"},[a("svg",{staticClass:"svg-inline--fa fa-arrow-left fa-w-14 svg1",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"arrow-left",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[a("path",{attrs:{fill:"#21399b",d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}})]),t._v(" Удалить ")])])]),t.showModal?a("ModalDelete",{attrs:{client:this.client_item},on:{close:function(e){t.showModal=!1}}}):t._e()],1)},se=[],ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"},on:{click:function(e){return t.$emit("close")}}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[a("h1",{staticClass:"modal__title"},[t._v("Подтвердите действие!")]),t._t("header",(function(){return[a("p",[t._v("Вы действительно хотите удалить данного Клиента?")])]}))],2),a("div",{staticClass:"modal-body"},[a("input",{staticClass:"modal__btn",attrs:{type:"button",value:"Да"},on:{click:function(e){return t.submit()}}}),a("input",{staticClass:"modal__btn",attrs:{type:"button",value:"Нет"},on:{click:function(e){return t.$emit("close")}}})]),a("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])])},ne=[],oe=function(){return v.get("/api/1/admin/get/all")},re=function(t){return v.get("/api/1/admin/search/serial",{params:{serial:t}})},ce=function(t){return v.get("/api/1/admin/search/phone",{params:{phone:t}})},le=function(t){return v.delete("/api/1/admin/delete/".concat(t.id))},ue=function(t){return console.log(t),v.delete("/api/1/unit/delete",{data:t})},de={AllClients:oe,deleteClient:le,getSearchClients:re,getSearchPhoneClient:ce,deleteWeaponClient:ue},pe={isSubmitting:!1,isLoading:!1,validationErrors:null,allClients:l("allClients"),confirm:""},me={allClientsStart:"[clients] allClientsStart",allClientsSuccess:"[clients] allClientsSuccess",allClientsFailure:"[clients] allClientsFailure",getSearchClientStart:"[clients] getSearchClientStart",getSearchClientSuccess:"[clients] getSearchClientSucceess",getSearchClientFailure:"[clients] getSearchClientFailure",getSearchPhoneClientStart:"[clients]  getSearchPhoneClientStart",getSearchPhoneClientSuccess:"[clients]  getSearchPhoneClientSucceess",getSearchPhoneClientFailure:"[clients]  getSearchPhoneClientFailure",deleteClientStart:"[clients] deleteClientStart",deleteClientSuccess:"[clients] deleteClientSuccess",deleteClientFailure:"[clients] deleteClientFailure",deleteWeaponClientStart:"[clients] deleteWeaponClientStart",deleteWeaponClientSuccess:"[clients] deleteWeaponClientSuccess",deleteWeaponClientFailure:"[clients] deleteWeaponClientFailure"},he={getAllclients:"[clients] clients",deleteClient:"[clients] deleteClient",getSearchClient:"[client] getSearchClient",getSearchPhoneClient:"[client] getSearchPhoneClient",deleteWeaponClient:"[client] deleteWeaponClient"},ve=(m={},Object(o["a"])(m,me.allClientsStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(m,me.allClientsSuccess,(function(t,e){t.isLoading=!1,t.allClients=e.data.result})),Object(o["a"])(m,me.allClientsFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),Object(o["a"])(m,me.getSearchClientStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(m,me.getSearchClientSuccess,(function(t,e){t.isLoading=!1,t.allClients=e.data.result,localStorage.setItem("allClients",JSON.stringify(t.allClients)),t.validationErrors=e.data})),Object(o["a"])(m,me.getSearchClientFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),Object(o["a"])(m,me.getSearchPhoneClientStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(m,me.getSearchPhoneClientSuccess,(function(t,e){t.isLoading=!1,t.allClients=e.data.result,localStorage.setItem("allClients",JSON.stringify(t.allClients)),t.validationErrors=e.data})),Object(o["a"])(m,me.getSearchPhoneClientFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),Object(o["a"])(m,me.deleteClientStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(m,me.deleteClientSuccess,(function(t){t.isLoading=!1,t.allClients=null,t.confirm="Вы удалили пользователя!"})),Object(o["a"])(m,me.deleteClientFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),Object(o["a"])(m,me.deleteWeaponClientStart,(function(t){t.isLoading=!0,t.validationErrors=null})),Object(o["a"])(m,me.deleteWeaponClientSuccess,(function(t){t.isLoading=!1})),Object(o["a"])(m,me.deleteWeaponClientFailure,(function(t,e){t.isLoading=!1,t.validationErrors=e})),m),fe=(h={},Object(o["a"])(h,he.getAllclients,(function(t){return new Promise((function(e){t.commit(me.allClientsStart),de.AllClients().then((function(a){t.commit(me.allClientsSuccess,a),e(a)})).catch((function(e){t.commit(me.allClientsFailure,e),console.log("ошибка",e)}))}))})),Object(o["a"])(h,he.getSearchClient,(function(t,e){return new Promise((function(a){t.commit(me.getSearchClientStart),de.getSearchClients(e).then((function(e){t.commit(me.getSearchClientSuccess,e),a(e)})).catch((function(e){t.commit(me.getSearchClientFailure,e),console.log("ошибка",e)}))}))})),Object(o["a"])(h,he.getSearchPhoneClient,(function(t,e){return new Promise((function(a){t.commit(me.getSearchPhoneClientStart),de.getSearchPhoneClient(e).then((function(e){t.commit(me.getSearchPhoneClientSuccess,e),a(e)})).catch((function(e){t.commit(me.getSearchPhoneClientFailure,e),console.log("ошибка",e)}))}))})),Object(o["a"])(h,he.deleteClient,(function(t,e){return new Promise((function(a){t.commit(me.deleteClientStart),de.deleteClient(e).then((function(e){t.commit(me.deleteClientSuccess,e),a(e)})).catch((function(e){t.commit(me.deleteClientFailure,e),console.log("ошибка",e)}))}))})),Object(o["a"])(h,he.deleteWeaponClient,(function(t,e){return new Promise((function(a){t.commit(me.deleteWeaponClientStart),de.deleteWeaponClient(e).then((function(e){t.commit(me.deleteWeaponClientSuccess,e),a(e)})).catch((function(e){t.commit(me.deleteWeaponClientFailure,e),console.log("ошибка",e)}))}))})),h),_e={state:pe,mutations:ve,actions:fe},ge={name:"AppModalDelete",data:function(){return{isShow:!1}},props:{client:{type:Object,default:function(){return{}}}},methods:{submit:function(){this.$store.dispatch(he.deleteClient,this.client).then((function(){})).catch((function(t){console.log("Ошибка",t)}))}}},Ce=ge,be=Object(J["a"])(Ce,ie,ne,!1,null,null,null),we=be.exports,$e={name:"AppItemClients",data:function(){return{id:"",showModal:!1}},props:{client_item:{type:Object,default:function(){return{}}}},components:{ModalDelete:we},methods:{show:function(){this.showModal=!0}}},Se=$e,ke=Object(J["a"])(Se,ae,se,!1,null,null,null),xe=ke.exports,Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form"},[a("form",{staticClass:"put-succsess-blok",on:{submit:function(e){return e.preventDefault(),t.putContact.apply(null,arguments)}}},[a("div",{staticClass:"registr-block__put-first"},[a("p",{staticClass:"mini-title"},[t._v("Контактная информация")]),a("div",{staticClass:"registr-block__input"},[a("label",{attrs:{for:"name"}},[t._v("Фамилия")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"name",name:"lastName",required:""},domProps:{value:this.client_item.lastName}}),a("label",{attrs:{for:"name"}},[t._v("Имя")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"name",name:"firstName",required:""},domProps:{value:this.client_item.firstName}}),a("label",{attrs:{for:"name"}},[t._v("Отчество")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"name",name:"middleName",required:""},domProps:{value:this.client_item.middleName}})]),a("div",{staticClass:"registr-block__input"},[a("label",{attrs:{for:"email"}},[t._v("Электронная почта")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"email",name:"email",required:""},domProps:{value:this.client_item.email}})]),a("div",{staticClass:"registr-block__input"},[a("label",{attrs:{for:"phone"}},[t._v("Телефон")]),a("input",{directives:[{name:"phone",rawName:"v-phone"}],staticClass:"text-input",attrs:{type:"tel",id:"phonefooter",name:"contactPhone",placeholder:"8(___)-___-____",required:"",maxlength:"15"},domProps:{value:this.client_item.contactPhone}})])]),a("div",{staticClass:"registr-block__put-pass-data"},[a("p",{staticClass:"mini-title"},[t._v("Паспортные данные гражданина РФ")]),a("div",{staticClass:"registr-block__passport"},[a("div",{staticClass:"passport"},[a("div",{staticClass:"passport__block margin"},[a("label",{attrs:{for:"passportSerial"}},[t._v("Серия:")]),a("input",{staticClass:"seria-input seria",attrs:{maxlength:"4",placeholder:"xxxx",passportData:"",name:"passportSerial"},domProps:{value:this.client_item.passportData.passportSerial}})]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"passportNumber"}},[t._v("Номер:")]),a("input",{staticClass:"seria-input pass",attrs:{maxlength:"6",placeholder:"xxxxxx",name:"passportNumber"},domProps:{value:this.client_item.passportData.passportNumber}})])]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"birthDate"}},[t._v("Дата рождения")]),a("input",{staticClass:"text-input-putdata",attrs:{type:"date",id:"start",name:"birthDate",placeholder:"дд.мм.гггг"},domProps:{value:this.client_item.passportData.birthDate}})])]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"registrationAddress"}},[t._v("Адрес Регистрации:")]),a("input",{staticClass:"text-input",attrs:{name:"registrationAddress"},domProps:{value:this.client_item.passportData.registrationAddress}}),a("label",{attrs:{for:"registrationAddress"}},[t._v("Адрес Фактического проживания:")]),a("input",{staticClass:"text-input",attrs:{name:"placeOfResidence"},domProps:{value:this.client_item.placeOfResidence}}),a("label",{attrs:{for:"passportPlaceOfIssue"}},[t._v("Кем выдан документ:")]),a("input",{staticClass:"text-input",attrs:{name:"passportPlaceOfIssue",placeholder:"Наименование подразделения"},domProps:{value:this.client_item.passportData.passportPlaceOfIssue}})]),a("div",{staticClass:"passport__block2"},[a("div",{staticClass:"passport__block-put"},[a("label",{attrs:{for:"departmentCode"}},[t._v("Код подразделения:")]),a("input",{staticClass:"seria-input kod",attrs:{maxlength:"6",placeholder:"xxxxxx",name:"departmentCode"},domProps:{value:this.client_item.passportData.departmentCode}})]),a("div",{staticClass:"passport__block"},[a("label",{attrs:{for:"passportDateOfIssue"}},[t._v("Дата выдачи документа:")]),a("input",{staticClass:"text-input-putdata",attrs:{type:"date",id:"start",name:"passportDateOfIssue",placeholder:"дд.мм.гггг"},domProps:{value:this.client_item.passportData.passportDateOfIssue}})])])]),this.client_item.confidantData?a("div",{staticClass:"register-trustee"},[a("div",{staticClass:"register-trustee__title",on:{click:function(e){t.isActiveBlock=!t.isActiveBlock}}},[a("svg",{staticClass:"svg-inline--fa fa-plus-square fa-w-14",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus-square",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[a("path",{attrs:{fill:"black",d:"M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"}})]),a("p",{staticClass:"mini-title"},[t._v("Доверительное лицо")])]),!0===t.isActiveBlock?a("div",{staticClass:"register-trustee__block"},[a("div",{staticClass:"registr-block__input-confidant"},[a("div",{staticClass:"registr-block__wrap"},[a("label",{attrs:{for:"confidantLastName"}},[t._v("Имя")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"confidantLastName",name:"confidantLastName",required:""},domProps:{value:this.client_item.confidantData.lastName}})]),a("div",{staticClass:"registr-block__wrap"},[a("label",{attrs:{for:"confidantFirstName"}},[t._v("Фамилия")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"confidantFirstName",name:"confidantFirstName",required:""},domProps:{value:this.client_item.confidantData.firstName}})]),a("div",{staticClass:"registr-block__wrap"},[a("label",{attrs:{for:"confidantMiddleName"}},[t._v("Отчество")]),a("input",{staticClass:"text-input",attrs:{type:"text",id:"confidantMiddleName",name:"confidantMiddleName",required:""},domProps:{value:this.client_item.confidantData.middleName}})])]),a("div",{staticClass:"registr-block__input-confidant"},[a("div",{staticClass:"registr-block__wrap"},[a("label",{attrs:{for:"confidantPhone"}},[t._v("Телефон:")]),a("input",{directives:[{name:"phone",rawName:"v-phone"}],staticClass:"text-input",attrs:{type:"tel",id:"phonefooter",name:"confidantPhone",placeholder:"8(___)___-____",required:"",maxlength:"14"},domProps:{value:this.client_item.confidantData.phone}})]),a("div",{staticClass:"registr-block__wrap"},[t._m(0),a("div",{staticClass:"select"},[a("select",{staticClass:"text-input",attrs:{id:"standard-select",name:"relationship",required:""},domProps:{value:this.client_item.confidantData.relationship}},[a("option",{attrs:{value:"Мать"}},[t._v("Мать")]),a("option",{attrs:{value:"Отец"}},[t._v("Отец")]),a("option",{attrs:{value:"Сестра"}},[t._v("Сестра")]),a("option",{attrs:{value:"Брат"}},[t._v("Брат")]),a("option",{attrs:{value:"Друг"}},[t._v("Друг")]),a("option",{attrs:{value:"Другое"}},[t._v("Другое")])])])])])]):t._e()]):t._e(),t._m(1)])])},Pe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label-error-confidant"},[a("label",{attrs:{for:"relationship"}},[t._v("Кем приходится:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"registr-block__button"},[a("button",{staticClass:"button btn-neutral",attrs:{type:"submit","data-tab":"block"}},[t._v(" Редактировать данные ")])])}],Ne={name:"AppPutClient",data:function(){return{putData:[],items:{},passportData:{},isActiveBlock:!1}},props:{client_item:{type:Object,default:function(){return{}}}},components:{},methods:{putContact:function(){var t=document.forms,e=new FormData(t[0]);this.putData=[];var a,s=Object(I["a"])(e);try{for(s.s();!(a=s.n()).done;){var i=Object(N["a"])(a.value,2),n=i[0],r=i[1];this.putData=Object(w["a"])(Object(w["a"])({},this.putData),{},Object(o["a"])({},n,r))}}catch(c){s.e(c)}finally{s.f()}this.validFirstBlock()},submit:function(){var t=this;this.$store.dispatch(q.PutContactItem,this.items).then((function(){t.$emit("changeData")})).catch((function(t){console.log("Ошибка",t)}))},validFirstBlock:function(){this.passportData={registrationAddress:this.putData.registrationAddress,passportPlaceOfIssue:this.putData.passportPlaceOfIssue,departmentCode:this.putData.departmentCode,passportDateOfIssue:this.putData.passportDateOfIssue,passportSerial:this.putData.passportSerial,passportNumber:this.putData.passportNumber,birthDate:this.putData.birthDate},this.putData.firstName&&this.putData.lastName&&this.putData.middleName&&this.putData.phone&&this.putData.relationship?this.confidantData={confidantFirstName:this.putData.firstName,confidantLastName:this.putData.lastName,confidantMiddleName:this.putData.middleName,confidantPhone:this.putData.phone,relationship:this.putData.relationship}:this.confidantData=null,this.items={id:this.client_item.id,lastName:this.putData.lastName,firstName:this.putData.firstName,middleName:this.putData.middleName,email:this.putData.email,contactPhone:this.putData.contactPhone,placeOfResidence:this.putData.placeOfResidence,passportData:this.passportData,confidantData:this.confidantData},this.submit()}}},Ie=Ne,ye=Object(J["a"])(Ie,Oe,Pe,!1,null,null,null),De=ye.exports,Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"blocks-weapon"},[a("div",{staticClass:"blocks-weapon__wrap"},[a("div",{staticClass:"blocks-weapon__title",on:{click:function(e){t.isActiveBlock=!t.isActiveBlock}}},[a("div",{staticClass:"blocks-weapon__block"},[t.isActiveBlock?t._e():a("svg",{staticClass:"svg-inline--fa fa-plus-square fa-w-14",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus-square",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[a("path",{attrs:{fill:"white",d:"M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"}})]),t.isActiveBlock?a("svg",{staticClass:"svg-inline--fa fa-minus-square fa-w-14",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"minus-square",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[a("path",{attrs:{fill:"white",d:"M108 284c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h232c6.6 0 12 5.4 12 12v32c0 6.6-5.4 12-12 12H108zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"}})]):t._e(),a("p",{staticClass:"blocks-weapon__title-serial"},[t._v(" Серийный номер: "),a("span",[t._v(" "+t._s(this.weapon_item.serial))])])]),a("div",{staticClass:"blocks-weapon__block1"},[a("p",{staticClass:"blocks-weapon__title-name"},[t._v(" "+t._s(this.weapon_item.weapon.weaponName)+" ")])])])]),!0===t.isActiveBlock?a("div",{},[a("div",{staticClass:"blocks-weapon__info"},[a("p",{staticClass:"info-title"},[t._v("Информация о блоке")]),(0===this.weapon_item.mode?this.mode="Сейф":1==this.weapon_item.mode?this.mode="Tранспортировка":2==this.weapon_item.mode?this.mode="Сервис":3==this.weapon_item.mode?this.mode="Использование":4==this.weapon_item.mode?this.mode="Аir mode":10==this.weapon_item.mode&&(this.mode="Новое устройство"))?a("p",{staticClass:"info-name"},[t._v(" Режим блока: "),a("span",[t._v(t._s(this.mode))])]):t._e(),a("p",{staticClass:"info-name"},[t._v(" Идентификатор WI-FI сети: "),a("span",[t._v(t._s(this.weapon_item.imei))])])]),a("div",{staticClass:"blocks-weapon__info"},[a("p",{staticClass:"info-title"},[t._v("Информация об оружии")]),this.weapon_item.weapon.placeOfPurchase?a("p",{staticClass:"info-name"},[t._v(" Место покупки: "),a("span",[t._v(t._s(this.weapon_item.weapon.placeOfPurchase))])]):t._e(),this.weapon_item.weapon.storage?a("p",{staticClass:"info-name"},[t._v(" Адрес хранения оружия: "),a("span",[t._v(t._s(this.weapon_item.weapon.storage))])]):t._e(),this.weapon_item.weapon.weaponName?a("p",{staticClass:"info-name"},[t._v(" Название оружия: "),a("span",[t._v(t._s(this.weapon_item.weapon.weaponName))])]):t._e(),this.weapon_item.weapon.type?a("p",{staticClass:"info-name"},[t._v(" Тип оружия: "),a("span",[t._v(t._s(this.weapon_item.weapon.type))])]):t._e(),this.weapon_item.weapon.manufacture?a("p",{staticClass:"info-name"},[t._v(" Производитель: "),a("span",[t._v(t._s(this.weapon_item.weapon.manufacture))])]):t._e(),this.weapon_item.weapon.caliber?a("p",{staticClass:"info-name"},[t._v(" Калибр: "),a("span",[t._v(t._s(this.weapon_item.weapon.caliber))])]):t._e(),this.weapon_item.weapon.gost?a("p",{staticClass:"info-name"},[t._v(" ГОСТ: "),a("span",[t._v(t._s(this.weapon_item.weapon.gost))])]):t._e(),this.weapon_item.weapon.chamber_length?a("p",{staticClass:"info-name"},[t._v(" Длина патронника: "),a("span",[t._v(t._s(this.weapon_item.weapon.chamber_length))])]):t._e(),this.weapon_item.weapon.barrel_length?a("p",{staticClass:"info-name"},[t._v(" Длина ствола: "),a("span",[t._v(t._s(this.weapon_item.weapon.barrel_length))])]):t._e(),this.weapon_item.weapon.capacity?a("p",{staticClass:"info-name"},[t._v(" Ёмкость магазина: "),a("span",[t._v(t._s(this.weapon_item.weapon.capacity))])]):t._e(),this.weapon_item.weapon.dimensions?a("p",{staticClass:"info-name"},[t._v(" Габариты: "),a("span",[t._v(t._s(this.weapon_item.weapon.dimensions))])]):t._e(),this.weapon_item.weapon.muzzle?a("p",{staticClass:"info-name"},[t._v(" Дуло: "),a("span",[t._v(t._s(this.weapon_item.weapon.muzzle))])]):t._e(),this.weapon_item.weapon.muzzle_energy?a("p",{staticClass:"info-name"},[t._v(" Дульная энергия: "),a("span",[t._v(t._s(this.weapon_item.weapon.muzzle_energy))])]):t._e(),this.weapon_item.weapon.weight?a("p",{staticClass:"info-name"},[t._v(" Вес: "),a("span",[t._v(t._s(this.weapon_item.weapon.weight))])]):t._e(),this.weapon_item.weapon.extra_info?a("p",{staticClass:"info-name"},[t._v(" Дополнительная информация: "),a("span",[t._v(t._s(this.weapon_item.weapon.extra_info))])]):t._e()]),a("button",{staticClass:"button btn-neutral",attrs:{type:"button"},on:{click:t.deleteBlock}},[t._v(" Удалить блок ")])]):t._e()])},je=[],Le={name:"AppBlocksWeapon",data:function(){return{mode:"",isActiveBlock:!1}},props:{weapon_item:{type:Object,default:function(){return{}}}},methods:{deleteBlock:function(){console.log("Удалить"),this.$emit("deleteBlock",this.weapon_item.serial)}}},We=Le,Ee=Object(J["a"])(We,Ae,je,!1,null,null,null),Fe=Ee.exports,Be={name:"AllClients",data:function(){return{search:"",phone:"",select:"phone"}},components:{ItemClients:xe,PutItemClient:De,BlocksWeapon:Fe},computed:Object(w["a"])({},Object(H["c"])({allClients:function(t){return t.clients.allClients},isLoading:function(t){return t.clients.isLoading},validationErrors:function(t){return t.clients.validationErrors},confirm:function(t){return t.clients.confirm},statusActivation:function(t){return t.register.statusActivation}})),methods:{onChange:function(){this.$store.dispatch(he.getSearchClient,this.search).then((function(){})).catch((function(t){console.log(t)}))},searchPhone:function(){this.$store.dispatch(he.getSearchPhoneClient,this.phone).then((function(){})).catch((function(t){console.log(t)}))},addToBlock:function(){this.$router.push({name:"addBlock"})},deleteBlock:function(t){var e=this,a={userId:this.allClients.id,serial:t};console.log(a),this.$store.dispatch(he.deleteWeaponClient,a).then((function(){e.$store.dispatch(he.getSearchPhoneClient,e.allClients.contactPhone)})).catch((function(t){console.log(t)}))},changeData:function(){this.$store.dispatch(he.getSearchPhoneClient,this.allClients.contactPhone).then((function(){})).catch((function(t){console.log(t)}))}},mounted:function(){this.allClients&&this.changeData()}},Me=Be,Ue=Object(J["a"])(Me,te,ee,!1,null,null,null),qe=Ue.exports,ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t.isLoading?a("div",{staticClass:"holder"},[t._m(0)]):t._e(),this.statusActivation?a("div",{staticClass:"order-ready"},[a("svg",{staticClass:"svg-inline--fa fa-check-circle fa-w-16 order-ready__svg",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[a("path",{attrs:{fill:"green",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}})]),a("div",{staticClass:"order-ready__info"},[a("p",{staticClass:"order-ready__info-first"},[t._v("Регистрация пройдена успешно.")]),a("p",{staticClass:"order-ready__info-second"},[t._v(" Ваш серийный номер для поиска: "+t._s(this.statusActivation.data.result)+" ")])]),t._m(1),a("div",{staticClass:"breadcrumbs-ready"},[a("router-link",{attrs:{to:"/"}},[t._v("На главную")])],1)]):t._e()])},Re=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"preloader"},[a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-ready__thank"},[a("p",[t._v("Спасибо!")])])}],Te={name:"AppRegisterReady",data:function(){return{}},computed:Object(w["a"])({},Object(H["c"])({statusActivation:function(t){return t.register.statusActivation},isLoading:function(t){return t.register.isLoading}}))},He=Te,Ve=Object(J["a"])(He,ze,Re,!1,null,null,null),Xe=Ve.exports,Je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t.isLoading?a("div",{staticClass:"holder"},[t._m(0)]):t._e(),this.statusActivation?a("div",{staticClass:"order-ready"},[a("svg",{staticClass:"svg-inline--fa fa-check-circle fa-w-16 order-ready__svg",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[a("path",{attrs:{fill:"green",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}})]),a("div",{staticClass:"order-ready__info"},[a("p",{staticClass:"order-ready__info-first"},[t._v("Регистрация пройдена успешно.")]),a("p",{staticClass:"order-ready__info-second"},[t._v(" Ваш серийный номер для поиска: "+t._s(this.statusActivation.data.result)+" ")])]),t._m(1),a("div",{staticClass:"breadcrumbs-ready"},[a("router-link",{attrs:{to:"/clients",replace:""}},[t._v("Вернуться")])],1)]):t._e()])},Ge=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"preloader"},[a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-ready__thank"},[a("p",[t._v("Спасибо!")])])}],Ke={name:"AppAddRegisterReady",data:function(){return{}},computed:Object(w["a"])({},Object(H["c"])({isLoading:function(t){return t.register.isLoading},statusActivation:function(t){return t.register.statusActivation}}))},Ye=Ke,Qe=Object(J["a"])(Ye,Je,Ge,!1,null,null,null),Ze=Qe.exports,ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"content"},[a("div",{staticClass:"photo"},[a("p",{staticClass:"photo__error"},[t._v("Можно загружать по одной фотографии!")]),a("div",{staticClass:"photo__block"},[a("div",{staticClass:"example-2"},[a("div",{staticClass:"form-group"},[a("form",{ref:"myForm"},[a("p",[t._v("Прикрепить изображение:")]),a("input",{ref:"file",staticClass:"input-file",attrs:{type:"file",id:"file",accept:"image/jpeg,image/png,image/gif"},on:{change:t.handleFileUpload}}),a("label",{staticClass:"btn btn-tertiary js-labelFile",attrs:{for:"file"}},[a("svg",{staticClass:"svg-inline--fa fa-download fa-w-16",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"download",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[a("path",{attrs:{fill:"currentColor",d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}})]),a("span",{staticClass:"js-fileName"},[t._v("Загрузить файл")])])])])]),a("div",{staticClass:"photo__submit"},[a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Отправить"},on:{click:function(e){return t.submitFile()}}})])])])])])},ea=[],aa={name:"foto",data:function(){return{title:"Фотографии",newprod:[],file:[],newProduct:[],addfoto:!1}},beforeMount:function(){document.title=this.title},beforeUpdate:function(){document.title=this.title},computed:{},components:{},methods:Object(w["a"])(Object(w["a"])({},Object(H["b"])(["GET_PRODUCTS"])),{},{bytesToSize:function(t){var e=["Bytes","KB","MB","GB","TB"];if(!t)return"0 Byte";console.log(t);var a=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return Math.round(t/Math.pow(1024,a))+" "+e[a]},submitFile:function(){var t=new FormData,e=this.file;t.append("file",e[0]),c.a.post("http://90.189.217.244:9016/api/1/admin/upload",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t),console.log("SUCCESS!!")})).catch((function(t){console.log(t,"FAILURE!!")}))},removeHandler:function(t,e){console.log(t),console.log(e),this.newProduct.splice(t,1),console.log(this.file)},handleFileUpload:function(t){this.file=this.$refs.file.files,console.log(this.file),this.addfoto=!0}}),mounted:function(){}},sa=aa,ia=Object(J["a"])(sa,ta,ea,!1,null,null,null),na=ia.exports,oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"registr"},[a("div",{staticClass:"container"},[t._m(0),a("div",{},[a("form",{staticClass:"registr-form"},[a("div",{staticClass:"registr-form__row"},[a("ul",{attrs:{id:"progressbar-block"}},[a("li",{staticClass:"active",attrs:{id:"choice-weapons"},on:{click:function(e){return t.switchTabsClass("block")}}},[t._v(" Ввод данных об оружии ")]),a("li",{attrs:{id:"active-block"},on:{click:function(e){return t.switchTabsClass("post")}}},[t._v(" Активация блока ")])]),a("div",{staticClass:"registr-form__column"},[t.isPostActive?a("div",{staticClass:"registr-form__wrap",attrs:{"data-tab":"block",id:"titletwo"}},[a("ChoiceOfWeapon",{on:{changeSecondBlock:t.changeSecondBlock}})],1):t._e(),a("div",{staticClass:"order-wrap2",attrs:{"data-tab":"pay",id:"titlethee"}},[t.isPayActive?a("div",{staticClass:"order-pay"},[a("NewActiveBlock")],1):t._e()])])])])])])])},ra=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"registr_title"},[a("h1",[t._v("Добавление нового блока")])])}],ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"active-block"},[a("p",{staticClass:"mini-title"},[t._v("Активация блока")]),a("div",{staticClass:"active-block-input"},["FAIL"===this.validationErrors?a("div",{staticClass:"active-block-error__fail"},[a("p",{staticClass:"active-block-error__error-input"},[t._v(" Извините, попробуйте позже! ")])]):t._e(),a("label",{attrs:{for:"active"}},[t._v("Введите серийный номер блока:")]),this.statusActivation?a("div",{staticClass:"active-block-error"},["FAIL"===this.statusActivation.status?a("div",{staticClass:"active-block-error__fail"},[a("p",{staticClass:"active-block-error__error-input"},[t._v(" "+t._s(this.statusActivation.message)+" ")])]):t._e()]):t._e(),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.serial.$model,expression:"$v.serial.$model",modifiers:{trim:!0}}],staticClass:"seria-input serial",attrs:{maxlength:"14",placeholder:"xxxxxxxxxxxxxx"},domProps:{value:t.$v.serial.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.serial,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.isLoading?a("div",{staticClass:"loader"},[a("p",{staticClass:"loader-title"},[t._v("Loading...")]),t._m(0)]):t._e(),a("div",{staticClass:"registr-block__button"},[a("button",{staticClass:"button btn-primary",attrs:{type:"button",disabled:!0===t.isLoading},on:{click:function(e){return t.active()}}},[t._v(" Активировать ")])]),a("div",{staticClass:"registr-block__button"})])])},la=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"clock"}),a("div",{staticClass:"clock"})])}],ua={name:"AppActiveBlock",data:function(){return{activeBlock:{},serial:"",passport_id:""}},validations:{serial:{minLength:Object(x["minLength"])(14),maxLength:Object(x["maxLength"])(14),required:x["required"]}},computed:Object(w["a"])({},Object(H["c"])({allClients:function(t){return t.clients.allClients},getWeaponItem:function(t){return t.register.getWeaponItem},getStorageItem:function(t){return t.register.getStorageItem},isLoading:function(t){return t.register.isLoading},statusActivation:function(t){return t.register.statusActivation},validationErrors:function(t){return t.register.validationErrors}})),methods:{active:function(){var t=this;this.activeBlock={passportSerial:this.allClients.passportData.passportSerial,passportNumber:this.allClients.passportData.passportNumber,serial:this.serial,weaponId:this.getWeaponItem.id,storageData:this.getStorageItem},this.$store.dispatch(q.getSerial,this.activeBlock).then((function(e){"SUCCESS"===t.statusActivation.data.status&&Na.push({name:"success-add"})})).catch((function(t){console.log("Ошибка",t)}))},success:function(){}}},da=ua,pa=Object(J["a"])(da,ca,la,!1,null,null,null),ma=pa.exports,ha={data:function(){return{title:"Регистация блока",isPostActive:!0,isPayActive:!1,isButtonDisabled:!1}},components:{ChoiceOfWeapon:Dt,NewActiveBlock:ma},computed:Object(w["a"])({},Object(H["c"])({isAuthenticated:function(t){return t.auth.isAuthenticated},token:function(t){return t.auth.token},allClients:function(t){return t.clients.allClients},getWeaponItem:function(t){return t.register.getWeaponItem}})),methods:{changeFirstBlock:function(){this.switchTabsClass("block")},changeSecondBlock:function(){this.switchTabsClass("post")},switchTabsClass:function(t){if("block"===t){if(null!=this.allClients){this.isBlockActive=!1,this.isPostActive=!0,this.isPayActive=!1;var e=document.getElementById("choice-weapons");e.classList.add("active")}}else if("post"===t){if(0!=this.getWeaponItem.length){this.isBlockActive=!1,this.isPostActive=!1,this.isPayActive=!0;var a=document.getElementById("active-block");a.classList.add("active")}}else this.isBlockActive=!0,this.isPostActive=!1,this.isPayActive=!1}},beforeMount:function(){document.title=this.title},beforeUpdate:function(){document.title=this.title}},va=ha,fa=Object(J["a"])(va,oa,ra,!1,null,null,null),_a=fa.exports,ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container error"},[a("div",{staticClass:"row"},[a("div",{staticClass:"df"},[a("p",{staticClass:"title"},[t._v("404")]),a("p",{staticClass:"mini-title"},[t._v("UH OH! You're lost.")]),a("p",[t._v(" The page you are looking for does not exist. How you got here is a mystery. But you can click the button below to go back to the homepage. ")]),a("router-link",{attrs:{to:{name:"Registration"}}},[a("button",{staticClass:"btn green"},[t._v("HOME")])])],1)])])},Ca=[],ba={name:"AppErrors"},wa=ba,$a=Object(J["a"])(wa,ga,Ca,!1,null,null,null),Sa=$a.exports;s["a"].use(g["a"]);var ka,xa,Oa=[{path:"/",name:"Registration",component:qt,meta:{Auth:!0}},{path:"/login",name:"login",component:Zt,meta:{Auth:!1}},{path:"/clients",name:"clients",component:qe,meta:{Auth:!0}},{path:"/photo",name:"photo",component:na,meta:{Auth:!0}},{path:"/add-block",name:"addBlock",component:_a,meta:{Auth:!0}},{path:"/success",name:"success",component:Xe,meta:{Auth:!0}},{path:"/success-add",name:"success-add",component:Ze,meta:{Auth:!0}},{path:"/*",component:Sa}],Pa=new g["a"]({mode:"history",base:"/",routes:Oa}),Na=Pa,Ia={isSubmitting:!1,isLoading:!1,token:localStorage.getItem("accessTokenStore")||"",isAuthenticated:!1,validationErrors:null},ya={loginStart:"[auth] loginStart",loginSuccess:"[auth] loginSuccess",loginFailure:"[auth] loginFailure",exitLoginSuccess:"[auth] exit success"},Da={login:"[auth] login",exitLogin:"[auth] exit"},Aa=(ka={},Object(o["a"])(ka,ya.loginStart,(function(t){t.isSubmitting=!0,t.isAuthenticated=!1,t.validationErrors=null})),Object(o["a"])(ka,ya.loginSuccess,(function(t,e){t.isSubmitting=!1,t.isAuthenticated=!0,t.token=e,t.isLoggedIn=!0})),Object(o["a"])(ka,ya.loginFailure,(function(t,e){t.isSubmitting=!1,t.isAuthenticated=!1,t.validationErrors=e})),Object(o["a"])(ka,ya.exitLoginSuccess,(function(t){t.isSubmitting=!1,t.token="",t.isAuthenticated=!0})),ka),ja=(xa={},Object(o["a"])(xa,Da.exitLogin,(function(t){t.commit(ya.exitLoginSuccess),localStorage.removeItem("accessTokenStore"),delete c.a.defaults.headers.common["Authorization"],localStorage.removeItem("statusActivation"),localStorage.removeItem("currentUser"),localStorage.removeItem("currentWepon"),localStorage.removeItem("allClients"),Na.push({name:"login"})})),Object(o["a"])(xa,Da.login,(function(t,e){return new Promise((function(a){t.commit(ya.loginStart),_.login(e).then((function(e){if("SUCCESS"===e.data.status){var s=e.data.result.token;window.localStorage.setItem("accessTokenStore",e.data.token),u("accessTokenStore",e.data.result.token),t.commit(ya.loginSuccess,s)}else t.commit(ya.loginFailure,e.data),localStorage.removeItem("accessTokenStore");a(e.data)})).catch((function(t){console.log("ошибка",t)}))}))})),xa),La={state:Ia,mutations:Aa,actions:ja},Wa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[s("div",{staticClass:"container"},[s("div",{staticClass:"header"},[s("div",{staticClass:"header__logo"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:a("beef"),alt:""}})])],1),s("nav",{staticClass:"header__nav"},[s("ul",{staticClass:"header__nav-list",attrs:{id:"msgText"}},[s("router-link",{attrs:{to:"/"}},[s("li",{staticClass:"header__nav-item"},[t._v("Регистрация")])]),s("router-link",{attrs:{to:"/clients"}},[s("li",{staticClass:"header__nav-item"},[t._v("Клиенты")])])],1)]),s("div",{staticClass:"header__exit",on:{click:function(e){t.showModal=!0}}},[s("svg",{staticClass:"svg-inline--fa fa-sign-out-alt fa-w-16",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sign-out-alt",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[s("path",{attrs:{fill:"black",d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}})]),s("span",{staticClass:"md-title",staticStyle:{cursor:"pointer"}},[t._v("Выход")])])])]),t.showModal?s("Modal",{on:{close:function(e){t.showModal=!1}}}):t._e()],1)},Ea=[],Fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"},on:{click:function(e){return t.$emit("close")}}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[a("h1",{staticClass:"modal__title"},[t._v("Подтвердите действие!")]),t._t("header",(function(){return[a("p",[t._v("Вы действительно хотите выйти?")])]}))],2),a("div",{staticClass:"modal-body"},[a("input",{staticClass:"modal__btn",attrs:{type:"button",value:"Да"},on:{click:function(e){return t.submit()}}}),a("input",{staticClass:"modal__btn",attrs:{type:"button",value:"НЕТ"},on:{click:function(e){return t.$emit("close")}}})]),a("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])])},Ba=[],Ma={name:"AppModalExir",props:{},methods:{submit:function(){this.$store.dispatch(Da.exitLogin).then((function(){})).catch((function(t){console.log("Ошибка",t)}))}}},Ua=Ma,qa=Object(J["a"])(Ua,Fa,Ba,!1,null,null,null),za=qa.exports,Ra={name:"AppHeader",data:function(){return{showModal:!1}},components:{Modal:za}},Ta=Ra,Ha=Object(J["a"])(Ta,Wa,Ea,!1,null,null,null),Va=Ha.exports,Xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"footer"})},Ja=[],Ga={name:"AppFooter"},Ka=Ga,Ya=Object(J["a"])(Ka,Xa,Ja,!1,null,null,null),Qa=Ya.exports,Za={name:"App",components:{Footer:Qa,Header:Va},created:function(){c.a.interceptors.response.use(void 0,(function(t){return new Promise((function(e,a){throw 401===t.status&&t.config&&!t.config.__isRetryRequest&&this.$store.dispatch(Da.exitLogin),t}))}))}},ts=Za,es=(a("034f"),Object(J["a"])(ts,i,n,!1,null,null,null)),as=es.exports;s["a"].use(H["a"]);var ss=new H["a"].Store({state:{},mutations:{},actions:{},modules:{auth:La,register:T,clients:_e}}),is=(a("78a7"),a("1dce")),ns=a.n(is);s["a"].use(ns.a),s["a"].config.productionTip=!1,s["a"].directive("phone",{bind:function(t){function e(t){var e="",a=t.replace(/\D/g,"").match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,4})/);return e=a[2]||""===a[1]?a[3]?a[1]+"("+a[2]+")"+a[3]+(a[4]?"-"+a[4]:""):a[1]+a[2]:"8"===a[1]?a[1]:"8"+a[1],e}function a(t){var a=t.replace(/\D/g,""),s=a;return"8"===s.charAt(0)&&(s="8"+s.slice(1)),e(s)}t.oninput=function(t){t.isTrusted&&(this.value=e(this.value))},t.onpaste=function(){var e=this;setTimeout((function(){var s=t.value;e.value=a(s)}))}}}),new s["a"]({router:Na,store:ss,render:function(t){return t(as)}}).$mount("#app")},"78a7":function(t,e,a){},"85ec":function(t,e,a){},beef:function(t,e,a){t.exports=a.p+"img/logo-png.4fbb3499.png"},f833:function(t,e,a){t.exports=a.p+"img/logo-auth.c061de04.png"}});
//# sourceMappingURL=app.1e4b01cd.js.map